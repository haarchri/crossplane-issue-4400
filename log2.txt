Switched to context "kind-release-1-13".
namespace/crossplane-system created
#### install 1.7.0
NAME: crossplane
LAST DEPLOYED: Fri Jul 28 10:09:48 2023
NAMESPACE: crossplane-system
STATUS: deployed
REVISION: 1
TEST SUITE: None
NOTES:
Release: crossplane

Chart Name: crossplane
Chart Description: Crossplane is an open source Kubernetes add-on that enables platform teams to assemble infrastructure from multiple vendors, and expose higher level self-service APIs for application teams to consume.
Chart Version: 1.7.0
Chart Application Version: 1.7.0

Kube Version: v1.27.3
NAME      	NAMESPACE        	REVISION	UPDATED                              	STATUS  	CHART           	APP VERSION
crossplane	crossplane-system	1       	2023-07-28 10:09:48.767077 +0200 CEST	deployed	crossplane-1.7.0	1.7.0      
[
  "v1alpha1"
]
NAME                                       READY   STATUS    RESTARTS   AGE
crossplane-5d65f7987b-czfw5                1/1     Running   0          14s
crossplane-rbac-manager-7c8b45c6c8-tgk6b   1/1     Running   0          14s
composition.apiextensions.crossplane.io/ck8s created
compositeresourcedefinition.apiextensions.crossplane.io/test.ck8s.crossplane.io created
composition.apiextensions.crossplane.io/ck8s configured
compositeresourcedefinition.apiextensions.crossplane.io/test.ck8s.crossplane.io configured
composition.apiextensions.crossplane.io/ck8s configured
compositeresourcedefinition.apiextensions.crossplane.io/test.ck8s.crossplane.io unchanged
NAME         REVISION   CURRENT   AGE
ck8s-bj4dl   3          True      10s
ck8s-jth2f   1          False     31s
ck8s-tfcts   2          False     20s
#### upgrade 1.8.0
Release "crossplane" has been upgraded. Happy Helming!
NAME: crossplane
LAST DEPLOYED: Fri Jul 28 10:10:46 2023
NAMESPACE: crossplane-system
STATUS: deployed
REVISION: 2
TEST SUITE: None
NOTES:
Release: crossplane

Chart Name: crossplane
Chart Description: Crossplane is an open source Kubernetes add-on that enables platform teams to assemble infrastructure from multiple vendors, and expose higher level self-service APIs for application teams to consume.
Chart Version: 1.8.0
Chart Application Version: 1.8.0

Kube Version: v1.27.3
[
  "v1alpha1"
]
NAME         REVISION   CURRENT   AGE
ck8s-bj4dl   3          True      21s
ck8s-jth2f   1          False     42s
ck8s-tfcts   2          False     31s
NAME                                       READY   STATUS        RESTARTS   AGE
crossplane-87694dd86-sq56p                 1/1     Running       0          10s
crossplane-rbac-manager-65489577db-p4g7h   1/1     Running       0          10s
crossplane-rbac-manager-7c8b45c6c8-tgk6b   0/1     Terminating   0          56s
#### upgrade 1.9.0
Release "crossplane" has been upgraded. Happy Helming!
NAME: crossplane
LAST DEPLOYED: Fri Jul 28 10:10:57 2023
NAMESPACE: crossplane-system
STATUS: deployed
REVISION: 3
TEST SUITE: None
NOTES:
Release: crossplane

Chart Name: crossplane
Chart Description: Crossplane is an open source Kubernetes add-on that enables platform teams to assemble infrastructure from multiple vendors, and expose higher level self-service APIs for application teams to consume.
Chart Version: 1.9.0
Chart Application Version: 1.9.0

Kube Version: v1.27.3
[
  "v1alpha1"
]
NAME         REVISION   CURRENT   AGE
ck8s-bj4dl   3          True      32s
ck8s-jth2f   1          False     53s
ck8s-tfcts   2          False     42s
NAME                                      READY   STATUS    RESTARTS   AGE
crossplane-7df95d5567-ldxv2               1/1     Running   0          10s
crossplane-rbac-manager-7d75f6594-dnbdl   1/1     Running   0          10s
#### upgrade 1.10.0
Release "crossplane" has been upgraded. Happy Helming!
NAME: crossplane
LAST DEPLOYED: Fri Jul 28 10:11:08 2023
NAMESPACE: crossplane-system
STATUS: deployed
REVISION: 4
TEST SUITE: None
NOTES:
Release: crossplane

Chart Name: crossplane
Chart Description: Crossplane is an open source Kubernetes add-on that enables platform teams to assemble infrastructure from multiple vendors, and expose higher level self-service APIs for application teams to consume.
Chart Version: 1.10.0
Chart Application Version: 1.10.0

Kube Version: v1.27.3
[
  "v1alpha1"
]
NAME         REVISION   CURRENT   AGE
ck8s-bj4dl   3          True      43s
ck8s-jth2f   1          False     64s
ck8s-tfcts   2          False     53s
NAME                                       READY   STATUS        RESTARTS   AGE
crossplane-7df95d5567-ldxv2                0/1     Terminating   0          21s
crossplane-8d59577cb-dw9sz                 1/1     Running       0          10s
crossplane-rbac-manager-6b7b88c5c4-bbvkt   1/1     Running       0          10s
#### upgrade 1.11.0
Release "crossplane" has been upgraded. Happy Helming!
NAME: crossplane
LAST DEPLOYED: Fri Jul 28 10:11:19 2023
NAMESPACE: crossplane-system
STATUS: deployed
REVISION: 5
TEST SUITE: None
NOTES:
Release: crossplane

Chart Name: crossplane
Chart Description: Crossplane is an open source Kubernetes add-on that enables platform teams to assemble infrastructure from multiple vendors, and expose higher level self-service APIs for application teams to consume.
Chart Version: 1.11.0
Chart Application Version: 1.11.0

Kube Version: v1.27.3
[
  "v1alpha1",
  "v1beta1"
]
NAME         REVISION   AGE
ck8s-bj4dl   3          52s
ck8s-jth2f   1          73s
ck8s-tfcts   2          62s
NAME                                       READY   STATUS        RESTARTS   AGE
crossplane-6d679d88f4-5mqvs                1/1     Running       0          8s
crossplane-8d59577cb-dw9sz                 0/1     Terminating   0          19s
crossplane-rbac-manager-6b7b88c5c4-bbvkt   0/1     Terminating   0          19s
crossplane-rbac-manager-6dc8454bcc-tzwp7   1/1     Running       0          8s
#### upgrade 1.12.0
Release "crossplane" has been upgraded. Happy Helming!
NAME: crossplane
LAST DEPLOYED: Fri Jul 28 10:11:29 2023
NAMESPACE: crossplane-system
STATUS: deployed
REVISION: 6
TEST SUITE: None
NOTES:
Release: crossplane

Chart Name: crossplane
Chart Description: Crossplane is an open source Kubernetes add-on that enables platform teams to assemble infrastructure from multiple vendors, and expose higher level self-service APIs for application teams to consume.
Chart Version: 1.12.0
Chart Application Version: 1.12.0

Kube Version: v1.27.3
[
  "v1alpha1",
  "v1beta1",
  "v1"
]
NAME         REVISION   XR-KIND   XR-APIVERSION                 AGE
ck8s-bj4dl   3          test      ck8s.crossplane.io/v1alpha1   66s
ck8s-jth2f   1          test      ck8s.crossplane.io/v1alpha1   87s
ck8s-tfcts   2          test      ck8s.crossplane.io/v1alpha1   76s
NAME                                     READY   STATUS    RESTARTS   AGE
crossplane-75d8695f98-2r8fh              1/1     Running   0          13s
crossplane-rbac-manager-6588fb79-f76bx   1/1     Running   0          13s
#### upgrade 1.13.0
Release "crossplane" has been upgraded. Happy Helming!
NAME: crossplane
LAST DEPLOYED: Fri Jul 28 10:11:42 2023
NAMESPACE: crossplane-system
STATUS: deployed
REVISION: 7
TEST SUITE: None
NOTES:
Release: crossplane

Chart Name: crossplane
Chart Description: Crossplane is an open source Kubernetes add-on that enables platform teams to assemble infrastructure from multiple vendors, and expose higher level self-service APIs for application teams to consume.
Chart Version: 1.13.0
Chart Application Version: 1.13.0

Kube Version: v1.27.3
[
  "v1alpha1",
  "v1beta1",
  "v1"
]
NAME         REVISION   XR-KIND   XR-APIVERSION                 AGE
ck8s-bj4dl   3          test      ck8s.crossplane.io/v1alpha1   67s
ck8s-jth2f   1          test      ck8s.crossplane.io/v1alpha1   88s
ck8s-tfcts   2          test      ck8s.crossplane.io/v1alpha1   77s
NAME                                       READY   STATUS     RESTARTS   AGE
crossplane-75d8695f98-2r8fh                1/1     Running    0          14s
crossplane-798547c55c-cfxx8                0/1     Init:0/1   0          0s
crossplane-rbac-manager-649488698b-lh72m   0/1     Init:0/1   0          0s
crossplane-rbac-manager-6588fb79-f76bx     1/1     Running    0          14s
{"level":"info","ts":"2023-07-28T08:11:50Z","logger":"crossplane","msg":"Given tls secret is already filled, skipping tls certificate generation","Step":"WebhookCertificateGenerator"}
{"level":"info","ts":"2023-07-28T08:11:50Z","logger":"crossplane","msg":"Step has been completed","Name":"WebhookCertificateGenerator"}
crossplane: error: core.initCommand.Run(): cannot initialize core: cannot apply crd: cannot patch object: CustomResourceDefinition.apiextensions.k8s.io "compositionrevisions.apiextensions.crossplane.io" is invalid: status.storedVersions[0]: Invalid value: "v1alpha1": must appear in spec.versions
### reproduced #4400
### debug output
apiVersion: v1
items:
- apiVersion: v1
  kind: Pod
  metadata:
    creationTimestamp: "2023-07-28T08:11:29Z"
    generateName: crossplane-75d8695f98-
    labels:
      app: crossplane
      app.kubernetes.io/component: cloud-infrastructure-controller
      app.kubernetes.io/instance: crossplane
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: crossplane
      app.kubernetes.io/part-of: crossplane
      app.kubernetes.io/version: 1.12.0
      helm.sh/chart: crossplane-1.12.0
      pod-template-hash: 75d8695f98
      release: crossplane
    name: crossplane-75d8695f98-2r8fh
    namespace: crossplane-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: crossplane-75d8695f98
      uid: 4cce32ae-95a9-4ef8-8e2c-8376fc72043d
    resourceVersion: "1383"
    uid: 754b36f0-ca96-4640-a351-38db296e8216
  spec:
    containers:
    - args:
      - core
      - start
      - --enable-composition-revisions
      env:
      - name: GOMAXPROCS
        valueFrom:
          resourceFieldRef:
            containerName: crossplane
            divisor: "0"
            resource: limits.cpu
      - name: GOMEMLIMIT
        valueFrom:
          resourceFieldRef:
            containerName: crossplane
            divisor: "0"
            resource: limits.memory
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: LEADER_ELECTION
        value: "true"
      - name: WEBHOOK_TLS_SECRET_NAME
        value: webhook-tls-secret
      - name: WEBHOOK_TLS_CERT_DIR
        value: /webhook/tls
      image: crossplane/crossplane:v1.12.0
      imagePullPolicy: IfNotPresent
      name: crossplane
      ports:
      - containerPort: 9443
        name: webhooks
        protocol: TCP
      resources:
        limits:
          cpu: 100m
          memory: 512Mi
        requests:
          cpu: 100m
          memory: 256Mi
      securityContext:
        allowPrivilegeEscalation: false
        readOnlyRootFilesystem: true
        runAsGroup: 65532
        runAsUser: 65532
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /cache
        name: package-cache
      - mountPath: /webhook/tls
        name: webhook-tls-secret
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-9brn9
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - args:
      - core
      - init
      env:
      - name: GOMAXPROCS
        valueFrom:
          resourceFieldRef:
            containerName: crossplane-init
            divisor: "0"
            resource: limits.cpu
      - name: GOMEMLIMIT
        valueFrom:
          resourceFieldRef:
            containerName: crossplane-init
            divisor: "0"
            resource: limits.memory
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: POD_SERVICE_ACCOUNT
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.serviceAccountName
      - name: WEBHOOK_TLS_SECRET_NAME
        value: webhook-tls-secret
      - name: WEBHOOK_SERVICE_NAME
        value: crossplane-webhooks
      - name: WEBHOOK_SERVICE_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: WEBHOOK_SERVICE_PORT
        value: "9443"
      image: crossplane/crossplane:v1.12.0
      imagePullPolicy: IfNotPresent
      name: crossplane-init
      resources:
        limits:
          cpu: 100m
          memory: 512Mi
        requests:
          cpu: 100m
          memory: 256Mi
      securityContext:
        allowPrivilegeEscalation: false
        readOnlyRootFilesystem: true
        runAsGroup: 65532
        runAsUser: 65532
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-9brn9
        readOnly: true
    nodeName: release-1-13-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: crossplane
    serviceAccountName: crossplane
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - emptyDir:
        sizeLimit: 20Mi
      name: package-cache
    - name: webhook-tls-secret
      secret:
        defaultMode: 420
        secretName: webhook-tls-secret
    - name: kube-api-access-9brn9
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-07-28T08:11:39Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-07-28T08:11:40Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-07-28T08:11:40Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-07-28T08:11:29Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://c995626f2e358bcfe7d0858a456ec47c63b8d481fc3545e8ac0bb48fbe336468
      image: docker.io/crossplane/crossplane:v1.12.0
      imageID: docker.io/crossplane/crossplane@sha256:2f91dafc2ccef1a55488a7a5c4c0c8664b2ac0d7826080b1d3c77b034e2355bc
      lastState: {}
      name: crossplane
      ready: true
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2023-07-28T08:11:39Z"
    hostIP: 172.18.0.3
    initContainerStatuses:
    - containerID: containerd://6c91ddf30436ee00368d20446f7ef8931366d3dd920ca0f0fde3b1c6368c888f
      image: docker.io/crossplane/crossplane:v1.12.0
      imageID: docker.io/crossplane/crossplane@sha256:2f91dafc2ccef1a55488a7a5c4c0c8664b2ac0d7826080b1d3c77b034e2355bc
      lastState: {}
      name: crossplane-init
      ready: true
      restartCount: 0
      state:
        terminated:
          containerID: containerd://6c91ddf30436ee00368d20446f7ef8931366d3dd920ca0f0fde3b1c6368c888f
          exitCode: 0
          finishedAt: "2023-07-28T08:11:38Z"
          reason: Completed
          startedAt: "2023-07-28T08:11:35Z"
    phase: Running
    podIP: 10.244.0.15
    podIPs:
    - ip: 10.244.0.15
    qosClass: Burstable
    startTime: "2023-07-28T08:11:29Z"
- apiVersion: v1
  kind: Pod
  metadata:
    creationTimestamp: "2023-07-28T08:11:43Z"
    generateName: crossplane-798547c55c-
    labels:
      app: crossplane
      app.kubernetes.io/component: cloud-infrastructure-controller
      app.kubernetes.io/instance: crossplane
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: crossplane
      app.kubernetes.io/part-of: crossplane
      app.kubernetes.io/version: 1.13.0
      helm.sh/chart: crossplane-1.13.0
      pod-template-hash: 798547c55c
      release: crossplane
    name: crossplane-798547c55c-cfxx8
    namespace: crossplane-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: crossplane-798547c55c
      uid: d8681e8e-9f43-4ee5-ae45-f6d149c8a46b
    resourceVersion: "1516"
    uid: ce610e07-d6e4-4644-816a-df4fec470f03
  spec:
    containers:
    - args:
      - core
      - start
      - --enable-composition-revisions
      env:
      - name: GOMAXPROCS
        valueFrom:
          resourceFieldRef:
            containerName: crossplane
            divisor: "0"
            resource: limits.cpu
      - name: GOMEMLIMIT
        valueFrom:
          resourceFieldRef:
            containerName: crossplane
            divisor: "0"
            resource: limits.memory
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: POD_SERVICE_ACCOUNT
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.serviceAccountName
      - name: LEADER_ELECTION
        value: "true"
      - name: WEBHOOK_TLS_SECRET_NAME
        value: webhook-tls-secret
      - name: WEBHOOK_TLS_CERT_DIR
        value: /webhook/tls
      image: crossplane/crossplane:v1.13.0
      imagePullPolicy: IfNotPresent
      name: crossplane
      ports:
      - containerPort: 9443
        name: webhooks
        protocol: TCP
      resources:
        limits:
          cpu: 100m
          memory: 512Mi
        requests:
          cpu: 100m
          memory: 256Mi
      securityContext:
        allowPrivilegeEscalation: false
        readOnlyRootFilesystem: true
        runAsGroup: 65532
        runAsUser: 65532
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /cache
        name: package-cache
      - mountPath: /webhook/tls
        name: webhook-tls-secret
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-nw65b
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - args:
      - core
      - init
      env:
      - name: GOMAXPROCS
        valueFrom:
          resourceFieldRef:
            containerName: crossplane-init
            divisor: "0"
            resource: limits.cpu
      - name: GOMEMLIMIT
        valueFrom:
          resourceFieldRef:
            containerName: crossplane-init
            divisor: "0"
            resource: limits.memory
      - name: POD_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: POD_SERVICE_ACCOUNT
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: spec.serviceAccountName
      - name: WEBHOOK_TLS_SECRET_NAME
        value: webhook-tls-secret
      - name: WEBHOOK_SERVICE_NAME
        value: crossplane-webhooks
      - name: WEBHOOK_SERVICE_NAMESPACE
        valueFrom:
          fieldRef:
            apiVersion: v1
            fieldPath: metadata.namespace
      - name: WEBHOOK_SERVICE_PORT
        value: "9443"
      image: crossplane/crossplane:v1.13.0
      imagePullPolicy: IfNotPresent
      name: crossplane-init
      resources:
        limits:
          cpu: 100m
          memory: 512Mi
        requests:
          cpu: 100m
          memory: 256Mi
      securityContext:
        allowPrivilegeEscalation: false
        readOnlyRootFilesystem: true
        runAsGroup: 65532
        runAsUser: 65532
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-nw65b
        readOnly: true
    nodeName: release-1-13-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: crossplane
    serviceAccountName: crossplane
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - emptyDir:
        sizeLimit: 20Mi
      name: package-cache
    - name: webhook-tls-secret
      secret:
        defaultMode: 420
        secretName: webhook-tls-secret
    - name: kube-api-access-nw65b
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-07-28T08:11:43Z"
      message: 'containers with incomplete status: [crossplane-init]'
      reason: ContainersNotInitialized
      status: "False"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-07-28T08:11:43Z"
      message: 'containers with unready status: [crossplane]'
      reason: ContainersNotReady
      status: "False"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-07-28T08:11:43Z"
      message: 'containers with unready status: [crossplane]'
      reason: ContainersNotReady
      status: "False"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-07-28T08:11:43Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - image: crossplane/crossplane:v1.13.0
      imageID: ""
      lastState: {}
      name: crossplane
      ready: false
      restartCount: 0
      started: false
      state:
        waiting:
          reason: PodInitializing
    hostIP: 172.18.0.3
    initContainerStatuses:
    - containerID: containerd://4101ac4bb23a24faa949faf9c7a5e10d6fc36d56994ed17e088a52c13ebf4b27
      image: docker.io/crossplane/crossplane:v1.13.0
      imageID: docker.io/crossplane/crossplane@sha256:a87406d9b0d4096f8e96374a1a225007902e3283c901219cee8eb4250105252a
      lastState:
        terminated:
          containerID: containerd://4101ac4bb23a24faa949faf9c7a5e10d6fc36d56994ed17e088a52c13ebf4b27
          exitCode: 1
          finishedAt: "2023-07-28T08:11:51Z"
          reason: Error
          startedAt: "2023-07-28T08:11:50Z"
      name: crossplane-init
      ready: false
      restartCount: 1
      state:
        waiting:
          message: back-off 10s restarting failed container=crossplane-init pod=crossplane-798547c55c-cfxx8_crossplane-system(ce610e07-d6e4-4644-816a-df4fec470f03)
          reason: CrashLoopBackOff
    phase: Pending
    podIP: 10.244.0.17
    podIPs:
    - ip: 10.244.0.17
    qosClass: Burstable
    startTime: "2023-07-28T08:11:43Z"
- apiVersion: v1
  kind: Pod
  metadata:
    creationTimestamp: "2023-07-28T08:11:43Z"
    generateName: crossplane-rbac-manager-649488698b-
    labels:
      app: crossplane-rbac-manager
      app.kubernetes.io/component: cloud-infrastructure-controller
      app.kubernetes.io/instance: crossplane
      app.kubernetes.io/managed-by: Helm
      app.kubernetes.io/name: crossplane
      app.kubernetes.io/part-of: crossplane
      app.kubernetes.io/version: 1.13.0
      helm.sh/chart: crossplane-1.13.0
      pod-template-hash: 649488698b
      release: crossplane
    name: crossplane-rbac-manager-649488698b-lh72m
    namespace: crossplane-system
    ownerReferences:
    - apiVersion: apps/v1
      blockOwnerDeletion: true
      controller: true
      kind: ReplicaSet
      name: crossplane-rbac-manager-649488698b
      uid: 99716807-b5bc-4fe4-829b-d1e2acd39f78
    resourceVersion: "1494"
    uid: a676acb3-c14d-4e39-9f4a-546c7c6936f2
  spec:
    containers:
    - args:
      - rbac
      - start
      - --manage=Basic
      - --provider-clusterrole=crossplane:allowed-provider-permissions
      env:
      - name: GOMAXPROCS
        valueFrom:
          resourceFieldRef:
            containerName: crossplane
            divisor: "0"
            resource: limits.cpu
      - name: GOMEMLIMIT
        valueFrom:
          resourceFieldRef:
            containerName: crossplane
            divisor: "0"
            resource: limits.memory
      - name: LEADER_ELECTION
        value: "true"
      image: crossplane/crossplane:v1.13.0
      imagePullPolicy: IfNotPresent
      name: crossplane
      resources:
        limits:
          cpu: 100m
          memory: 512Mi
        requests:
          cpu: 100m
          memory: 256Mi
      securityContext:
        allowPrivilegeEscalation: false
        readOnlyRootFilesystem: true
        runAsGroup: 65532
        runAsUser: 65532
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-zp6dj
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    initContainers:
    - args:
      - rbac
      - init
      env:
      - name: GOMAXPROCS
        valueFrom:
          resourceFieldRef:
            containerName: crossplane-init
            divisor: "0"
            resource: limits.cpu
      - name: GOMEMLIMIT
        valueFrom:
          resourceFieldRef:
            containerName: crossplane-init
            divisor: "0"
            resource: limits.memory
      image: crossplane/crossplane:v1.13.0
      imagePullPolicy: IfNotPresent
      name: crossplane-init
      resources:
        limits:
          cpu: 100m
          memory: 512Mi
        requests:
          cpu: 100m
          memory: 256Mi
      securityContext:
        allowPrivilegeEscalation: false
        readOnlyRootFilesystem: true
        runAsGroup: 65532
        runAsUser: 65532
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-zp6dj
        readOnly: true
    nodeName: release-1-13-control-plane
    preemptionPolicy: PreemptLowerPriority
    priority: 0
    restartPolicy: Always
    schedulerName: default-scheduler
    securityContext: {}
    serviceAccount: rbac-manager
    serviceAccountName: rbac-manager
    terminationGracePeriodSeconds: 30
    tolerations:
    - effect: NoExecute
      key: node.kubernetes.io/not-ready
      operator: Exists
      tolerationSeconds: 300
    - effect: NoExecute
      key: node.kubernetes.io/unreachable
      operator: Exists
      tolerationSeconds: 300
    volumes:
    - name: kube-api-access-zp6dj
      projected:
        defaultMode: 420
        sources:
        - serviceAccountToken:
            expirationSeconds: 3607
            path: token
        - configMap:
            items:
            - key: ca.crt
              path: ca.crt
            name: kube-root-ca.crt
        - downwardAPI:
            items:
            - fieldRef:
                apiVersion: v1
                fieldPath: metadata.namespace
              path: namespace
  status:
    conditions:
    - lastProbeTime: null
      lastTransitionTime: "2023-07-28T08:11:49Z"
      status: "True"
      type: Initialized
    - lastProbeTime: null
      lastTransitionTime: "2023-07-28T08:11:50Z"
      status: "True"
      type: Ready
    - lastProbeTime: null
      lastTransitionTime: "2023-07-28T08:11:50Z"
      status: "True"
      type: ContainersReady
    - lastProbeTime: null
      lastTransitionTime: "2023-07-28T08:11:43Z"
      status: "True"
      type: PodScheduled
    containerStatuses:
    - containerID: containerd://5652903a6b31482defbbd01888784b553c71510d7b4d072f3fb2bd2ab8eb625f
      image: docker.io/crossplane/crossplane:v1.13.0
      imageID: docker.io/crossplane/crossplane@sha256:a87406d9b0d4096f8e96374a1a225007902e3283c901219cee8eb4250105252a
      lastState: {}
      name: crossplane
      ready: true
      restartCount: 0
      started: true
      state:
        running:
          startedAt: "2023-07-28T08:11:49Z"
    hostIP: 172.18.0.3
    initContainerStatuses:
    - containerID: containerd://2e30b86fec8b01635c350b013f2548343a4fbe22008b0ece56ac840ade9dd219
      image: docker.io/crossplane/crossplane:v1.13.0
      imageID: docker.io/crossplane/crossplane@sha256:a87406d9b0d4096f8e96374a1a225007902e3283c901219cee8eb4250105252a
      lastState: {}
      name: crossplane-init
      ready: true
      restartCount: 0
      state:
        terminated:
          containerID: containerd://2e30b86fec8b01635c350b013f2548343a4fbe22008b0ece56ac840ade9dd219
          exitCode: 0
          finishedAt: "2023-07-28T08:11:48Z"
          reason: Completed
          startedAt: "2023-07-28T08:11:47Z"
    phase: Running
    podIP: 10.244.0.18
    podIPs:
    - ip: 10.244.0.18
    qosClass: Burstable
    startTime: "2023-07-28T08:11:43Z"
kind: List
metadata:
  resourceVersion: ""
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.11.3
  creationTimestamp: "2023-07-28T08:10:09Z"
  generation: 6
  name: compositionrevisions.apiextensions.crossplane.io
  resourceVersion: "1365"
  uid: 5c8d64d9-88b5-4f2d-9672-0f4e227b9ab7
spec:
  conversion:
    strategy: None
  group: apiextensions.crossplane.io
  names:
    categories:
    - crossplane
    kind: CompositionRevision
    listKind: CompositionRevisionList
    plural: compositionrevisions
    singular: compositionrevision
  scope: Cluster
  versions:
  - additionalPrinterColumns:
    - jsonPath: .spec.revision
      name: REVISION
      type: string
    - jsonPath: .spec.compositeTypeRef.kind
      name: XR-KIND
      type: string
    - jsonPath: .spec.compositeTypeRef.apiVersion
      name: XR-APIVERSION
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: AGE
      type: date
    name: v1
    schema:
      openAPIV3Schema:
        description: A CompositionRevision represents a revision in time of a Composition.
          Revisions are created by Crossplane; they should be treated as immutable.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: CompositionRevisionSpec specifies the desired state of the
              composition revision.
            properties:
              compositeTypeRef:
                description: CompositeTypeRef specifies the type of composite resource
                  that this composition is compatible with.
                properties:
                  apiVersion:
                    description: APIVersion of the type.
                    type: string
                  kind:
                    description: Kind of the type.
                    type: string
                required:
                - apiVersion
                - kind
                type: object
              environment:
                description: Environment configures the environment in which resources
                  are rendered.
                properties:
                  environmentConfigs:
                    description: "EnvironmentConfigs selects a list of `EnvironmentConfig`s.
                      The resolved resources are stored in the composite resource
                      at `spec.environmentConfigRefs` and is only updated if it is
                      null. \n The list of references is used to compute an in-memory
                      environment at compose time. The data of all object is merged
                      in the order they are listed, meaning the values of EnvironmentConfigs
                      with a larger index take priority over ones with smaller indices.
                      \n The computed environment can be accessed in a composition
                      using `FromEnvironmentFieldPath` and `CombineFromEnvironment`
                      patches."
                    items:
                      description: EnvironmentSource selects a EnvironmentConfig resource.
                      properties:
                        ref:
                          description: Ref is a named reference to a single EnvironmentConfig.
                            Either Ref or Selector is required.
                          properties:
                            name:
                              description: The name of the object.
                              type: string
                          required:
                          - name
                          type: object
                        selector:
                          description: Selector selects one EnvironmentConfig via
                            labels.
                          properties:
                            matchLabels:
                              description: MatchLabels ensures an object with matching
                                labels is selected.
                              items:
                                description: An EnvironmentSourceSelectorLabelMatcher
                                  acts like a k8s label selector but can draw the
                                  label value from a different path.
                                properties:
                                  key:
                                    description: Key of the label to match.
                                    type: string
                                  type:
                                    default: FromCompositeFieldPath
                                    description: Type specifies where the value for
                                      a label comes from.
                                    enum:
                                    - FromCompositeFieldPath
                                    - Value
                                    type: string
                                  value:
                                    description: Value specifies a literal label value.
                                    type: string
                                  valueFromFieldPath:
                                    description: ValueFromFieldPath specifies the
                                      field path to look for the label value.
                                    type: string
                                required:
                                - key
                                type: object
                              type: array
                          type: object
                        type:
                          default: Reference
                          description: Type specifies the way the EnvironmentConfig
                            is selected. Default is `Reference`
                          enum:
                          - Reference
                          - Selector
                          type: string
                      type: object
                    type: array
                  patches:
                    description: Patches is a list of environment patches that are
                      executed before a composition's resources are composed.
                    items:
                      description: EnvironmentPatch is a patch for a Composition environment.
                      properties:
                        combine:
                          description: Combine is the patch configuration for a CombineFromComposite
                            or CombineToComposite patch.
                          properties:
                            strategy:
                              description: Strategy defines the strategy to use to
                                combine the input variable values. Currently only
                                string is supported.
                              enum:
                              - string
                              type: string
                            string:
                              description: String declares that input variables should
                                be combined into a single string, using the relevant
                                settings for formatting purposes.
                              properties:
                                fmt:
                                  description: Format the input using a Go format
                                    string. See https://golang.org/pkg/fmt/ for details.
                                  type: string
                              required:
                              - fmt
                              type: object
                            variables:
                              description: Variables are the list of variables whose
                                values will be retrieved and combined.
                              items:
                                description: A CombineVariable defines the source
                                  of a value that is combined with others to form
                                  and patch an output value. Currently, this only
                                  supports retrieving values from a field path.
                                properties:
                                  fromFieldPath:
                                    description: FromFieldPath is the path of the
                                      field on the source whose value is to be used
                                      as input.
                                    type: string
                                required:
                                - fromFieldPath
                                type: object
                              minItems: 1
                              type: array
                          required:
                          - strategy
                          - variables
                          type: object
                        fromFieldPath:
                          description: FromFieldPath is the path of the field on the
                            resource whose value is to be used as input. Required
                            when type is FromCompositeFieldPath or ToCompositeFieldPath.
                          type: string
                        policy:
                          description: Policy configures the specifics of patching
                            behaviour.
                          properties:
                            fromFieldPath:
                              description: FromFieldPath specifies how to patch from
                                a field path. The default is 'Optional', which means
                                the patch will be a no-op if the specified fromFieldPath
                                does not exist. Use 'Required' if the patch should
                                fail if the specified path does not exist.
                              enum:
                              - Optional
                              - Required
                              type: string
                            mergeOptions:
                              description: MergeOptions Specifies merge options on
                                a field path
                              properties:
                                appendSlice:
                                  description: Specifies that already existing elements
                                    in a merged slice should be preserved
                                  type: boolean
                                keepMapValues:
                                  description: Specifies that already existing values
                                    in a merged map should be preserved
                                  type: boolean
                              type: object
                          type: object
                        toFieldPath:
                          description: ToFieldPath is the path of the field on the
                            resource whose value will be changed with the result of
                            transforms. Leave empty if you'd like to propagate to
                            the same path as fromFieldPath.
                          type: string
                        transforms:
                          description: Transforms are the list of functions that are
                            used as a FIFO pipe for the input to be transformed.
                          items:
                            description: Transform is a unit of process whose input
                              is transformed into an output with the supplied configuration.
                            properties:
                              convert:
                                description: Convert is used to cast the input into
                                  the given output type.
                                properties:
                                  format:
                                    description: "The expected input format. \n *
                                      `quantity` - parses the input as a K8s [`resource.Quantity`](https://pkg.go.dev/k8s.io/apimachinery/pkg/api/resource#Quantity).
                                      Only used during `string -> float64` conversions.
                                      \n If this property is null, the default conversion
                                      is applied."
                                    enum:
                                    - none
                                    - quantity
                                    type: string
                                  toType:
                                    description: ToType is the type of the output
                                      of this transform.
                                    enum:
                                    - string
                                    - int
                                    - int64
                                    - bool
                                    - float64
                                    type: string
                                required:
                                - toType
                                type: object
                              map:
                                additionalProperties:
                                  x-kubernetes-preserve-unknown-fields: true
                                description: Map uses the input as a key in the given
                                  map and returns the value.
                                type: object
                              match:
                                description: Match is a more complex version of Map
                                  that matches a list of patterns.
                                properties:
                                  fallbackTo:
                                    default: Value
                                    description: Determines to what value the transform
                                      should fallback if no pattern matches.
                                    enum:
                                    - Value
                                    - Input
                                    type: string
                                  fallbackValue:
                                    description: The fallback value that should be
                                      returned by the transform if now pattern matches.
                                    x-kubernetes-preserve-unknown-fields: true
                                  patterns:
                                    description: The patterns that should be tested
                                      against the input string. Patterns are tested
                                      in order. The value of the first match is used
                                      as result of this transform.
                                    items:
                                      description: MatchTransformPattern is a transform
                                        that returns the value that matches a pattern.
                                      properties:
                                        literal:
                                          description: Literal exactly matches the
                                            input string (case sensitive). Is required
                                            if `type` is `literal`.
                                          type: string
                                        regexp:
                                          description: Regexp to match against the
                                            input string. Is required if `type` is
                                            `regexp`.
                                          type: string
                                        result:
                                          description: The value that is used as result
                                            of the transform if the pattern matches.
                                          x-kubernetes-preserve-unknown-fields: true
                                        type:
                                          default: literal
                                          description: "Type specifies how the pattern
                                            matches the input. \n * `literal` - the
                                            pattern value has to exactly match (case
                                            sensitive) the input string. This is the
                                            default. \n * `regexp` - the pattern treated
                                            as a regular expression against which
                                            the input string is tested. Crossplane
                                            will throw an error if the key is not
                                            a valid regexp."
                                          enum:
                                          - literal
                                          - regexp
                                          type: string
                                      required:
                                      - result
                                      - type
                                      type: object
                                    type: array
                                type: object
                              math:
                                description: Math is used to transform the input via
                                  mathematical operations such as multiplication.
                                properties:
                                  clampMax:
                                    description: ClampMax makes sure that the value
                                      is not bigger than the given value.
                                    format: int64
                                    type: integer
                                  clampMin:
                                    description: ClampMin makes sure that the value
                                      is not smaller than the given value.
                                    format: int64
                                    type: integer
                                  multiply:
                                    description: Multiply the value.
                                    format: int64
                                    type: integer
                                  type:
                                    default: Multiply
                                    description: Type of the math transform to be
                                      run.
                                    enum:
                                    - Multiply
                                    - ClampMin
                                    - ClampMax
                                    type: string
                                type: object
                              string:
                                description: String is used to transform the input
                                  into a string or a different kind of string. Note
                                  that the input does not necessarily need to be a
                                  string.
                                properties:
                                  convert:
                                    description: Optional conversion method to be
                                      specified. `ToUpper` and `ToLower` change the
                                      letter case of the input string. `ToBase64`
                                      and `FromBase64` perform a base64 conversion
                                      based on the input string. `ToJson` converts
                                      any input value into its raw JSON representation.
                                      `ToSha1`, `ToSha256` and `ToSha512` generate
                                      a hash value based on the input converted to
                                      JSON.
                                    enum:
                                    - ToUpper
                                    - ToLower
                                    - ToBase64
                                    - FromBase64
                                    - ToJson
                                    - ToSha1
                                    - ToSha256
                                    - ToSha512
                                    type: string
                                  fmt:
                                    description: Format the input using a Go format
                                      string. See https://golang.org/pkg/fmt/ for
                                      details.
                                    type: string
                                  regexp:
                                    description: Extract a match from the input using
                                      a regular expression.
                                    properties:
                                      group:
                                        description: Group number to match. 0 (the
                                          default) matches the entire expression.
                                        type: integer
                                      match:
                                        description: Match string. May optionally
                                          include submatches, aka capture groups.
                                          See https://pkg.go.dev/regexp/ for details.
                                        type: string
                                    required:
                                    - match
                                    type: object
                                  trim:
                                    description: Trim the prefix or suffix from the
                                      input
                                    type: string
                                  type:
                                    default: Format
                                    description: Type of the string transform to be
                                      run.
                                    enum:
                                    - Format
                                    - Convert
                                    - TrimPrefix
                                    - TrimSuffix
                                    - Regexp
                                    type: string
                                type: object
                              type:
                                description: Type of the transform to be run.
                                enum:
                                - map
                                - match
                                - math
                                - string
                                - convert
                                type: string
                            required:
                            - type
                            type: object
                          type: array
                        type:
                          default: FromCompositeFieldPath
                          description: Type sets the patching behaviour to be used.
                            Each patch type may require its own fields to be set on
                            the Patch object.
                          enum:
                          - FromCompositeFieldPath
                          - FromEnvironmentFieldPath
                          - ToCompositeFieldPath
                          - CombineFromComposite
                          - CombineToComposite
                          type: string
                      type: object
                    type: array
                type: object
              functions:
                description: Functions is list of Composition Functions that will
                  be used when a composite resource referring to this composition
                  is created. At least one of resources and functions must be specified.
                  If both are specified the resources will be rendered first, then
                  passed to the functions for further processing.
                items:
                  description: A Function represents a Composition Function.
                  properties:
                    config:
                      description: Config is an optional, arbitrary Kubernetes resource
                        (i.e. a resource with an apiVersion and kind) that will be
                        passed to the Composition Function as the 'config' block of
                        its FunctionIO.
                      type: object
                      x-kubernetes-embedded-resource: true
                      x-kubernetes-preserve-unknown-fields: true
                    container:
                      description: Container configuration of this function.
                      properties:
                        image:
                          description: Image specifies the OCI image in which the
                            function is packaged. The image should include an entrypoint
                            that reads a FunctionIO from stdin and emits it, optionally
                            mutated, to stdout.
                          type: string
                        imagePullPolicy:
                          default: IfNotPresent
                          description: ImagePullPolicy defines the pull policy for
                            the function image.
                          enum:
                          - IfNotPresent
                          - Always
                          - Never
                          type: string
                        network:
                          description: Network configuration for the Composition Function.
                          properties:
                            policy:
                              default: Isolated
                              description: Policy specifies the network policy under
                                which the Composition Function will run. Defaults
                                to 'Isolated' - i.e. no network access. Specify 'Runner'
                                to allow the function the same network access as its
                                runner.
                              enum:
                              - Isolated
                              - Runner
                              type: string
                          type: object
                        resources:
                          description: Resources that may be used by the Composition
                            Function.
                          properties:
                            limits:
                              description: Limits specify the maximum compute resources
                                that may be used by the Composition Function.
                              properties:
                                cpu:
                                  anyOf:
                                  - type: integer
                                  - type: string
                                  default: 100m
                                  description: CPU, in cores. (500m = .5 cores)
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                memory:
                                  anyOf:
                                  - type: integer
                                  - type: string
                                  default: 128Mi
                                  description: Memory, in bytes. (500Gi = 500GiB =
                                    500 * 1024 * 1024 * 1024)
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                              type: object
                          type: object
                        runner:
                          description: Runner configuration for the Composition Function.
                          properties:
                            endpoint:
                              default: unix-abstract:crossplane/fn/default.sock
                              description: Endpoint specifies how and where Crossplane
                                should reach the runner it uses to invoke containerized
                                Composition Functions.
                              type: string
                          type: object
                        timeout:
                          default: 20s
                          description: Timeout after which the Composition Function
                            will be killed.
                          type: string
                      required:
                      - image
                      type: object
                    name:
                      description: Name of this function. Must be unique within its
                        Composition.
                      type: string
                    type:
                      description: Type of this function.
                      enum:
                      - Container
                      type: string
                  required:
                  - name
                  - type
                  type: object
                type: array
              patchSets:
                description: PatchSets define a named set of patches that may be included
                  by any resource in this Composition. PatchSets cannot themselves
                  refer to other PatchSets.
                items:
                  description: A PatchSet is a set of patches that can be reused from
                    all resources within a Composition.
                  properties:
                    name:
                      description: Name of this PatchSet.
                      type: string
                    patches:
                      description: Patches will be applied as an overlay to the base
                        resource.
                      items:
                        description: Patch objects are applied between composite and
                          composed resources. Their behaviour depends on the Type
                          selected. The default Type, FromCompositeFieldPath, copies
                          a value from the composite resource to the composed resource,
                          applying any defined transformers.
                        properties:
                          combine:
                            description: Combine is the patch configuration for a
                              CombineFromComposite, CombineFromEnvironment, CombineToComposite
                              or CombineToEnvironment patch.
                            properties:
                              strategy:
                                description: Strategy defines the strategy to use
                                  to combine the input variable values. Currently
                                  only string is supported.
                                enum:
                                - string
                                type: string
                              string:
                                description: String declares that input variables
                                  should be combined into a single string, using the
                                  relevant settings for formatting purposes.
                                properties:
                                  fmt:
                                    description: Format the input using a Go format
                                      string. See https://golang.org/pkg/fmt/ for
                                      details.
                                    type: string
                                required:
                                - fmt
                                type: object
                              variables:
                                description: Variables are the list of variables whose
                                  values will be retrieved and combined.
                                items:
                                  description: A CombineVariable defines the source
                                    of a value that is combined with others to form
                                    and patch an output value. Currently, this only
                                    supports retrieving values from a field path.
                                  properties:
                                    fromFieldPath:
                                      description: FromFieldPath is the path of the
                                        field on the source whose value is to be used
                                        as input.
                                      type: string
                                  required:
                                  - fromFieldPath
                                  type: object
                                minItems: 1
                                type: array
                            required:
                            - strategy
                            - variables
                            type: object
                          fromFieldPath:
                            description: FromFieldPath is the path of the field on
                              the resource whose value is to be used as input. Required
                              when type is FromCompositeFieldPath, FromEnvironmentFieldPath,
                              ToCompositeFieldPath, ToEnvironmentFieldPath.
                            type: string
                          patchSetName:
                            description: PatchSetName to include patches from. Required
                              when type is PatchSet.
                            type: string
                          policy:
                            description: Policy configures the specifics of patching
                              behaviour.
                            properties:
                              fromFieldPath:
                                description: FromFieldPath specifies how to patch
                                  from a field path. The default is 'Optional', which
                                  means the patch will be a no-op if the specified
                                  fromFieldPath does not exist. Use 'Required' if
                                  the patch should fail if the specified path does
                                  not exist.
                                enum:
                                - Optional
                                - Required
                                type: string
                              mergeOptions:
                                description: MergeOptions Specifies merge options
                                  on a field path
                                properties:
                                  appendSlice:
                                    description: Specifies that already existing elements
                                      in a merged slice should be preserved
                                    type: boolean
                                  keepMapValues:
                                    description: Specifies that already existing values
                                      in a merged map should be preserved
                                    type: boolean
                                type: object
                            type: object
                          toFieldPath:
                            description: ToFieldPath is the path of the field on the
                              resource whose value will be changed with the result
                              of transforms. Leave empty if you'd like to propagate
                              to the same path as fromFieldPath.
                            type: string
                          transforms:
                            description: Transforms are the list of functions that
                              are used as a FIFO pipe for the input to be transformed.
                            items:
                              description: Transform is a unit of process whose input
                                is transformed into an output with the supplied configuration.
                              properties:
                                convert:
                                  description: Convert is used to cast the input into
                                    the given output type.
                                  properties:
                                    format:
                                      description: "The expected input format. \n
                                        * `quantity` - parses the input as a K8s [`resource.Quantity`](https://pkg.go.dev/k8s.io/apimachinery/pkg/api/resource#Quantity).
                                        Only used during `string -> float64` conversions.
                                        \n If this property is null, the default conversion
                                        is applied."
                                      enum:
                                      - none
                                      - quantity
                                      type: string
                                    toType:
                                      description: ToType is the type of the output
                                        of this transform.
                                      enum:
                                      - string
                                      - int
                                      - int64
                                      - bool
                                      - float64
                                      type: string
                                  required:
                                  - toType
                                  type: object
                                map:
                                  additionalProperties:
                                    x-kubernetes-preserve-unknown-fields: true
                                  description: Map uses the input as a key in the
                                    given map and returns the value.
                                  type: object
                                match:
                                  description: Match is a more complex version of
                                    Map that matches a list of patterns.
                                  properties:
                                    fallbackTo:
                                      default: Value
                                      description: Determines to what value the transform
                                        should fallback if no pattern matches.
                                      enum:
                                      - Value
                                      - Input
                                      type: string
                                    fallbackValue:
                                      description: The fallback value that should
                                        be returned by the transform if now pattern
                                        matches.
                                      x-kubernetes-preserve-unknown-fields: true
                                    patterns:
                                      description: The patterns that should be tested
                                        against the input string. Patterns are tested
                                        in order. The value of the first match is
                                        used as result of this transform.
                                      items:
                                        description: MatchTransformPattern is a transform
                                          that returns the value that matches a pattern.
                                        properties:
                                          literal:
                                            description: Literal exactly matches the
                                              input string (case sensitive). Is required
                                              if `type` is `literal`.
                                            type: string
                                          regexp:
                                            description: Regexp to match against the
                                              input string. Is required if `type`
                                              is `regexp`.
                                            type: string
                                          result:
                                            description: The value that is used as
                                              result of the transform if the pattern
                                              matches.
                                            x-kubernetes-preserve-unknown-fields: true
                                          type:
                                            default: literal
                                            description: "Type specifies how the pattern
                                              matches the input. \n * `literal` -
                                              the pattern value has to exactly match
                                              (case sensitive) the input string. This
                                              is the default. \n * `regexp` - the
                                              pattern treated as a regular expression
                                              against which the input string is tested.
                                              Crossplane will throw an error if the
                                              key is not a valid regexp."
                                            enum:
                                            - literal
                                            - regexp
                                            type: string
                                        required:
                                        - result
                                        - type
                                        type: object
                                      type: array
                                  type: object
                                math:
                                  description: Math is used to transform the input
                                    via mathematical operations such as multiplication.
                                  properties:
                                    clampMax:
                                      description: ClampMax makes sure that the value
                                        is not bigger than the given value.
                                      format: int64
                                      type: integer
                                    clampMin:
                                      description: ClampMin makes sure that the value
                                        is not smaller than the given value.
                                      format: int64
                                      type: integer
                                    multiply:
                                      description: Multiply the value.
                                      format: int64
                                      type: integer
                                    type:
                                      default: Multiply
                                      description: Type of the math transform to be
                                        run.
                                      enum:
                                      - Multiply
                                      - ClampMin
                                      - ClampMax
                                      type: string
                                  type: object
                                string:
                                  description: String is used to transform the input
                                    into a string or a different kind of string. Note
                                    that the input does not necessarily need to be
                                    a string.
                                  properties:
                                    convert:
                                      description: Optional conversion method to be
                                        specified. `ToUpper` and `ToLower` change
                                        the letter case of the input string. `ToBase64`
                                        and `FromBase64` perform a base64 conversion
                                        based on the input string. `ToJson` converts
                                        any input value into its raw JSON representation.
                                        `ToSha1`, `ToSha256` and `ToSha512` generate
                                        a hash value based on the input converted
                                        to JSON.
                                      enum:
                                      - ToUpper
                                      - ToLower
                                      - ToBase64
                                      - FromBase64
                                      - ToJson
                                      - ToSha1
                                      - ToSha256
                                      - ToSha512
                                      type: string
                                    fmt:
                                      description: Format the input using a Go format
                                        string. See https://golang.org/pkg/fmt/ for
                                        details.
                                      type: string
                                    regexp:
                                      description: Extract a match from the input
                                        using a regular expression.
                                      properties:
                                        group:
                                          description: Group number to match. 0 (the
                                            default) matches the entire expression.
                                          type: integer
                                        match:
                                          description: Match string. May optionally
                                            include submatches, aka capture groups.
                                            See https://pkg.go.dev/regexp/ for details.
                                          type: string
                                      required:
                                      - match
                                      type: object
                                    trim:
                                      description: Trim the prefix or suffix from
                                        the input
                                      type: string
                                    type:
                                      default: Format
                                      description: Type of the string transform to
                                        be run.
                                      enum:
                                      - Format
                                      - Convert
                                      - TrimPrefix
                                      - TrimSuffix
                                      - Regexp
                                      type: string
                                  type: object
                                type:
                                  description: Type of the transform to be run.
                                  enum:
                                  - map
                                  - match
                                  - math
                                  - string
                                  - convert
                                  type: string
                              required:
                              - type
                              type: object
                            type: array
                          type:
                            default: FromCompositeFieldPath
                            description: Type sets the patching behaviour to be used.
                              Each patch type may require its own fields to be set
                              on the Patch object.
                            enum:
                            - FromCompositeFieldPath
                            - FromEnvironmentFieldPath
                            - PatchSet
                            - ToCompositeFieldPath
                            - ToEnvironmentFieldPath
                            - CombineFromEnvironment
                            - CombineFromComposite
                            - CombineToComposite
                            - CombineToEnvironment
                            type: string
                        type: object
                      type: array
                  required:
                  - name
                  - patches
                  type: object
                type: array
              publishConnectionDetailsWithStoreConfigRef:
                default:
                  name: default
                description: PublishConnectionDetailsWithStoreConfig specifies the
                  secret store config with which the connection details of composite
                  resources dynamically provisioned using this composition will be
                  published.
                properties:
                  name:
                    description: Name of the referenced StoreConfig.
                    type: string
                required:
                - name
                type: object
              resources:
                description: Resources is the list of resource templates that will
                  be used when a composite resource referring to this composition
                  is created.
                items:
                  description: ComposedTemplate is used to provide information about
                    how the composed resource should be processed.
                  properties:
                    base:
                      description: Base is the target resource that the patches will
                        be applied on.
                      type: object
                      x-kubernetes-embedded-resource: true
                      x-kubernetes-preserve-unknown-fields: true
                    connectionDetails:
                      description: ConnectionDetails lists the propagation secret
                        keys from this target resource to the composition instance
                        connection secret.
                      items:
                        description: ConnectionDetail includes the information about
                          the propagation of the connection information from one secret
                          to another.
                        properties:
                          fromConnectionSecretKey:
                            description: FromConnectionSecretKey is the key that will
                              be used to fetch the value from the composed resource's
                              connection secret.
                            type: string
                          fromFieldPath:
                            description: FromFieldPath is the path of the field on
                              the composed resource whose value to be used as input.
                              Name must be specified if the type is FromFieldPath.
                            type: string
                          name:
                            description: Name of the connection secret key that will
                              be propagated to the connection secret of the composition
                              instance. Leave empty if you'd like to use the same
                              key name.
                            type: string
                          type:
                            description: 'Type sets the connection detail fetching
                              behaviour to be used. Each connection detail type may
                              require its own fields to be set on the ConnectionDetail
                              object. If the type is omitted Crossplane will attempt
                              to infer it based on which other fields were specified.
                              If multiple fields are specified the order of precedence
                              is: 1. FromValue 2. FromConnectionSecretKey 3. FromFieldPath'
                            enum:
                            - FromConnectionSecretKey
                            - FromFieldPath
                            - FromValue
                            type: string
                          value:
                            description: Value that will be propagated to the connection
                              secret of the composite resource. May be set to inject
                              a fixed, non-sensitive connection secret value, for
                              example a well-known port.
                            type: string
                        type: object
                      type: array
                    name:
                      description: A Name uniquely identifies this entry within its
                        Composition's resources array. Names are optional but *strongly*
                        recommended. When all entries in the resources array are named
                        entries may added, deleted, and reordered as long as their
                        names do not change. When entries are not named the length
                        and order of the resources array should be treated as immutable.
                        Either all or no entries must be named.
                      type: string
                    patches:
                      description: Patches will be applied as overlay to the base
                        resource.
                      items:
                        description: Patch objects are applied between composite and
                          composed resources. Their behaviour depends on the Type
                          selected. The default Type, FromCompositeFieldPath, copies
                          a value from the composite resource to the composed resource,
                          applying any defined transformers.
                        properties:
                          combine:
                            description: Combine is the patch configuration for a
                              CombineFromComposite, CombineFromEnvironment, CombineToComposite
                              or CombineToEnvironment patch.
                            properties:
                              strategy:
                                description: Strategy defines the strategy to use
                                  to combine the input variable values. Currently
                                  only string is supported.
                                enum:
                                - string
                                type: string
                              string:
                                description: String declares that input variables
                                  should be combined into a single string, using the
                                  relevant settings for formatting purposes.
                                properties:
                                  fmt:
                                    description: Format the input using a Go format
                                      string. See https://golang.org/pkg/fmt/ for
                                      details.
                                    type: string
                                required:
                                - fmt
                                type: object
                              variables:
                                description: Variables are the list of variables whose
                                  values will be retrieved and combined.
                                items:
                                  description: A CombineVariable defines the source
                                    of a value that is combined with others to form
                                    and patch an output value. Currently, this only
                                    supports retrieving values from a field path.
                                  properties:
                                    fromFieldPath:
                                      description: FromFieldPath is the path of the
                                        field on the source whose value is to be used
                                        as input.
                                      type: string
                                  required:
                                  - fromFieldPath
                                  type: object
                                minItems: 1
                                type: array
                            required:
                            - strategy
                            - variables
                            type: object
                          fromFieldPath:
                            description: FromFieldPath is the path of the field on
                              the resource whose value is to be used as input. Required
                              when type is FromCompositeFieldPath, FromEnvironmentFieldPath,
                              ToCompositeFieldPath, ToEnvironmentFieldPath.
                            type: string
                          patchSetName:
                            description: PatchSetName to include patches from. Required
                              when type is PatchSet.
                            type: string
                          policy:
                            description: Policy configures the specifics of patching
                              behaviour.
                            properties:
                              fromFieldPath:
                                description: FromFieldPath specifies how to patch
                                  from a field path. The default is 'Optional', which
                                  means the patch will be a no-op if the specified
                                  fromFieldPath does not exist. Use 'Required' if
                                  the patch should fail if the specified path does
                                  not exist.
                                enum:
                                - Optional
                                - Required
                                type: string
                              mergeOptions:
                                description: MergeOptions Specifies merge options
                                  on a field path
                                properties:
                                  appendSlice:
                                    description: Specifies that already existing elements
                                      in a merged slice should be preserved
                                    type: boolean
                                  keepMapValues:
                                    description: Specifies that already existing values
                                      in a merged map should be preserved
                                    type: boolean
                                type: object
                            type: object
                          toFieldPath:
                            description: ToFieldPath is the path of the field on the
                              resource whose value will be changed with the result
                              of transforms. Leave empty if you'd like to propagate
                              to the same path as fromFieldPath.
                            type: string
                          transforms:
                            description: Transforms are the list of functions that
                              are used as a FIFO pipe for the input to be transformed.
                            items:
                              description: Transform is a unit of process whose input
                                is transformed into an output with the supplied configuration.
                              properties:
                                convert:
                                  description: Convert is used to cast the input into
                                    the given output type.
                                  properties:
                                    format:
                                      description: "The expected input format. \n
                                        * `quantity` - parses the input as a K8s [`resource.Quantity`](https://pkg.go.dev/k8s.io/apimachinery/pkg/api/resource#Quantity).
                                        Only used during `string -> float64` conversions.
                                        \n If this property is null, the default conversion
                                        is applied."
                                      enum:
                                      - none
                                      - quantity
                                      type: string
                                    toType:
                                      description: ToType is the type of the output
                                        of this transform.
                                      enum:
                                      - string
                                      - int
                                      - int64
                                      - bool
                                      - float64
                                      type: string
                                  required:
                                  - toType
                                  type: object
                                map:
                                  additionalProperties:
                                    x-kubernetes-preserve-unknown-fields: true
                                  description: Map uses the input as a key in the
                                    given map and returns the value.
                                  type: object
                                match:
                                  description: Match is a more complex version of
                                    Map that matches a list of patterns.
                                  properties:
                                    fallbackTo:
                                      default: Value
                                      description: Determines to what value the transform
                                        should fallback if no pattern matches.
                                      enum:
                                      - Value
                                      - Input
                                      type: string
                                    fallbackValue:
                                      description: The fallback value that should
                                        be returned by the transform if now pattern
                                        matches.
                                      x-kubernetes-preserve-unknown-fields: true
                                    patterns:
                                      description: The patterns that should be tested
                                        against the input string. Patterns are tested
                                        in order. The value of the first match is
                                        used as result of this transform.
                                      items:
                                        description: MatchTransformPattern is a transform
                                          that returns the value that matches a pattern.
                                        properties:
                                          literal:
                                            description: Literal exactly matches the
                                              input string (case sensitive). Is required
                                              if `type` is `literal`.
                                            type: string
                                          regexp:
                                            description: Regexp to match against the
                                              input string. Is required if `type`
                                              is `regexp`.
                                            type: string
                                          result:
                                            description: The value that is used as
                                              result of the transform if the pattern
                                              matches.
                                            x-kubernetes-preserve-unknown-fields: true
                                          type:
                                            default: literal
                                            description: "Type specifies how the pattern
                                              matches the input. \n * `literal` -
                                              the pattern value has to exactly match
                                              (case sensitive) the input string. This
                                              is the default. \n * `regexp` - the
                                              pattern treated as a regular expression
                                              against which the input string is tested.
                                              Crossplane will throw an error if the
                                              key is not a valid regexp."
                                            enum:
                                            - literal
                                            - regexp
                                            type: string
                                        required:
                                        - result
                                        - type
                                        type: object
                                      type: array
                                  type: object
                                math:
                                  description: Math is used to transform the input
                                    via mathematical operations such as multiplication.
                                  properties:
                                    clampMax:
                                      description: ClampMax makes sure that the value
                                        is not bigger than the given value.
                                      format: int64
                                      type: integer
                                    clampMin:
                                      description: ClampMin makes sure that the value
                                        is not smaller than the given value.
                                      format: int64
                                      type: integer
                                    multiply:
                                      description: Multiply the value.
                                      format: int64
                                      type: integer
                                    type:
                                      default: Multiply
                                      description: Type of the math transform to be
                                        run.
                                      enum:
                                      - Multiply
                                      - ClampMin
                                      - ClampMax
                                      type: string
                                  type: object
                                string:
                                  description: String is used to transform the input
                                    into a string or a different kind of string. Note
                                    that the input does not necessarily need to be
                                    a string.
                                  properties:
                                    convert:
                                      description: Optional conversion method to be
                                        specified. `ToUpper` and `ToLower` change
                                        the letter case of the input string. `ToBase64`
                                        and `FromBase64` perform a base64 conversion
                                        based on the input string. `ToJson` converts
                                        any input value into its raw JSON representation.
                                        `ToSha1`, `ToSha256` and `ToSha512` generate
                                        a hash value based on the input converted
                                        to JSON.
                                      enum:
                                      - ToUpper
                                      - ToLower
                                      - ToBase64
                                      - FromBase64
                                      - ToJson
                                      - ToSha1
                                      - ToSha256
                                      - ToSha512
                                      type: string
                                    fmt:
                                      description: Format the input using a Go format
                                        string. See https://golang.org/pkg/fmt/ for
                                        details.
                                      type: string
                                    regexp:
                                      description: Extract a match from the input
                                        using a regular expression.
                                      properties:
                                        group:
                                          description: Group number to match. 0 (the
                                            default) matches the entire expression.
                                          type: integer
                                        match:
                                          description: Match string. May optionally
                                            include submatches, aka capture groups.
                                            See https://pkg.go.dev/regexp/ for details.
                                          type: string
                                      required:
                                      - match
                                      type: object
                                    trim:
                                      description: Trim the prefix or suffix from
                                        the input
                                      type: string
                                    type:
                                      default: Format
                                      description: Type of the string transform to
                                        be run.
                                      enum:
                                      - Format
                                      - Convert
                                      - TrimPrefix
                                      - TrimSuffix
                                      - Regexp
                                      type: string
                                  type: object
                                type:
                                  description: Type of the transform to be run.
                                  enum:
                                  - map
                                  - match
                                  - math
                                  - string
                                  - convert
                                  type: string
                              required:
                              - type
                              type: object
                            type: array
                          type:
                            default: FromCompositeFieldPath
                            description: Type sets the patching behaviour to be used.
                              Each patch type may require its own fields to be set
                              on the Patch object.
                            enum:
                            - FromCompositeFieldPath
                            - FromEnvironmentFieldPath
                            - PatchSet
                            - ToCompositeFieldPath
                            - ToEnvironmentFieldPath
                            - CombineFromEnvironment
                            - CombineFromComposite
                            - CombineToComposite
                            - CombineToEnvironment
                            type: string
                        type: object
                      type: array
                    readinessChecks:
                      description: ReadinessChecks allows users to define custom readiness
                        checks. All checks have to return true in order for resource
                        to be considered ready. The default readiness check is to
                        have the "Ready" condition to be "True".
                      items:
                        description: ReadinessCheck is used to indicate how to tell
                          whether a resource is ready for consumption
                        properties:
                          fieldPath:
                            description: FieldPath shows the path of the field whose
                              value will be used.
                            type: string
                          matchInteger:
                            description: MatchInt is the value you'd like to match
                              if you're using "MatchInt" type.
                            format: int64
                            type: integer
                          matchString:
                            description: MatchString is the value you'd like to match
                              if you're using "MatchString" type.
                            type: string
                          type:
                            description: Type indicates the type of probe you'd like
                              to use.
                            enum:
                            - MatchString
                            - MatchInteger
                            - NonEmpty
                            - None
                            type: string
                        required:
                        - type
                        type: object
                      type: array
                  required:
                  - base
                  type: object
                type: array
              revision:
                description: Revision number. Newer revisions have larger numbers.
                format: int64
                type: integer
              writeConnectionSecretsToNamespace:
                description: WriteConnectionSecretsToNamespace specifies the namespace
                  in which the connection secrets of composite resource dynamically
                  provisioned using this composition will be created. This field is
                  planned to be removed in a future release in favor of PublishConnectionDetailsWithStoreConfigRef.
                  Currently, both could be set independently and connection details
                  would be published to both without affecting each other as long
                  as related fields at MR level specified.
                type: string
            required:
            - compositeTypeRef
            - revision
            type: object
          status:
            description: CompositionRevisionStatus shows the observed state of the
              composition revision.
            properties:
              conditions:
                description: Conditions of the resource.
                items:
                  description: A Condition that may apply to a resource.
                  properties:
                    lastTransitionTime:
                      description: LastTransitionTime is the last time this condition
                        transitioned from one status to another.
                      format: date-time
                      type: string
                    message:
                      description: A Message containing details about this condition's
                        last transition from one status to another, if any.
                      type: string
                    reason:
                      description: A Reason for this condition's last transition from
                        one status to another.
                      type: string
                    status:
                      description: Status of this condition; is it currently True,
                        False, or Unknown?
                      type: string
                    type:
                      description: Type of this condition. At most one of each condition
                        type may apply to a resource at any point in time.
                      type: string
                  required:
                  - lastTransitionTime
                  - reason
                  - status
                  - type
                  type: object
                type: array
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
  - additionalPrinterColumns:
    - jsonPath: .spec.revision
      name: REVISION
      type: string
    - jsonPath: .spec.compositeTypeRef.kind
      name: XR-KIND
      type: string
    - jsonPath: .spec.compositeTypeRef.apiVersion
      name: XR-APIVERSION
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: AGE
      type: date
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: A CompositionRevision represents a revision in time of a Composition.
          Revisions are created by Crossplane; they should be treated as immutable.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: CompositionRevisionSpec specifies the desired state of the
              composition revision.
            properties:
              compositeTypeRef:
                description: CompositeTypeRef specifies the type of composite resource
                  that this composition is compatible with.
                properties:
                  apiVersion:
                    description: APIVersion of the type.
                    type: string
                  kind:
                    description: Kind of the type.
                    type: string
                required:
                - apiVersion
                - kind
                type: object
              environment:
                description: Environment configures the environment in which resources
                  are rendered.
                properties:
                  environmentConfigs:
                    description: "EnvironmentConfigs selects a list of `EnvironmentConfig`s.
                      The resolved resources are stored in the composite resource
                      at `spec.environmentConfigRefs` and is only updated if it is
                      null. \n The list of references is used to compute an in-memory
                      environment at compose time. The data of all object is merged
                      in the order they are listed, meaning the values of EnvironmentConfigs
                      with a larger index take priority over ones with smaller indices.
                      \n The computed environment can be accessed in a composition
                      using `FromEnvironmentFieldPath` and `CombineFromEnvironment`
                      patches."
                    items:
                      description: EnvironmentSource selects a EnvironmentConfig resource.
                      properties:
                        ref:
                          description: Ref is a named reference to a single EnvironmentConfig.
                            Either Ref or Selector is required.
                          properties:
                            name:
                              description: The name of the object.
                              type: string
                          required:
                          - name
                          type: object
                        selector:
                          description: Selector selects one EnvironmentConfig via
                            labels.
                          properties:
                            matchLabels:
                              description: MatchLabels ensures an object with matching
                                labels is selected.
                              items:
                                description: An EnvironmentSourceSelectorLabelMatcher
                                  acts like a k8s label selector but can draw the
                                  label value from a different path.
                                properties:
                                  key:
                                    description: Key of the label to match.
                                    type: string
                                  type:
                                    default: FromCompositeFieldPath
                                    description: Type specifies where the value for
                                      a label comes from.
                                    enum:
                                    - FromCompositeFieldPath
                                    - Value
                                    type: string
                                  value:
                                    description: Value specifies a literal label value.
                                    type: string
                                  valueFromFieldPath:
                                    description: ValueFromFieldPath specifies the
                                      field path to look for the label value.
                                    type: string
                                required:
                                - key
                                type: object
                              type: array
                          type: object
                        type:
                          default: Reference
                          description: Type specifies the way the EnvironmentConfig
                            is selected. Default is `Reference`
                          enum:
                          - Reference
                          - Selector
                          type: string
                      type: object
                    type: array
                  patches:
                    description: Patches is a list of environment patches that are
                      executed before a composition's resources are composed.
                    items:
                      description: EnvironmentPatch is a patch for a Composition environment.
                      properties:
                        combine:
                          description: Combine is the patch configuration for a CombineFromComposite
                            or CombineToComposite patch.
                          properties:
                            strategy:
                              description: Strategy defines the strategy to use to
                                combine the input variable values. Currently only
                                string is supported.
                              enum:
                              - string
                              type: string
                            string:
                              description: String declares that input variables should
                                be combined into a single string, using the relevant
                                settings for formatting purposes.
                              properties:
                                fmt:
                                  description: Format the input using a Go format
                                    string. See https://golang.org/pkg/fmt/ for details.
                                  type: string
                              required:
                              - fmt
                              type: object
                            variables:
                              description: Variables are the list of variables whose
                                values will be retrieved and combined.
                              items:
                                description: A CombineVariable defines the source
                                  of a value that is combined with others to form
                                  and patch an output value. Currently, this only
                                  supports retrieving values from a field path.
                                properties:
                                  fromFieldPath:
                                    description: FromFieldPath is the path of the
                                      field on the source whose value is to be used
                                      as input.
                                    type: string
                                required:
                                - fromFieldPath
                                type: object
                              minItems: 1
                              type: array
                          required:
                          - strategy
                          - variables
                          type: object
                        fromFieldPath:
                          description: FromFieldPath is the path of the field on the
                            resource whose value is to be used as input. Required
                            when type is FromCompositeFieldPath or ToCompositeFieldPath.
                          type: string
                        policy:
                          description: Policy configures the specifics of patching
                            behaviour.
                          properties:
                            fromFieldPath:
                              description: FromFieldPath specifies how to patch from
                                a field path. The default is 'Optional', which means
                                the patch will be a no-op if the specified fromFieldPath
                                does not exist. Use 'Required' if the patch should
                                fail if the specified path does not exist.
                              enum:
                              - Optional
                              - Required
                              type: string
                            mergeOptions:
                              description: MergeOptions Specifies merge options on
                                a field path
                              properties:
                                appendSlice:
                                  description: Specifies that already existing elements
                                    in a merged slice should be preserved
                                  type: boolean
                                keepMapValues:
                                  description: Specifies that already existing values
                                    in a merged map should be preserved
                                  type: boolean
                              type: object
                          type: object
                        toFieldPath:
                          description: ToFieldPath is the path of the field on the
                            resource whose value will be changed with the result of
                            transforms. Leave empty if you'd like to propagate to
                            the same path as fromFieldPath.
                          type: string
                        transforms:
                          description: Transforms are the list of functions that are
                            used as a FIFO pipe for the input to be transformed.
                          items:
                            description: Transform is a unit of process whose input
                              is transformed into an output with the supplied configuration.
                            properties:
                              convert:
                                description: Convert is used to cast the input into
                                  the given output type.
                                properties:
                                  format:
                                    description: "The expected input format. \n *
                                      `quantity` - parses the input as a K8s [`resource.Quantity`](https://pkg.go.dev/k8s.io/apimachinery/pkg/api/resource#Quantity).
                                      Only used during `string -> float64` conversions.
                                      \n If this property is null, the default conversion
                                      is applied."
                                    enum:
                                    - quantity
                                    type: string
                                  toType:
                                    description: ToType is the type of the output
                                      of this transform.
                                    enum:
                                    - string
                                    - int
                                    - int64
                                    - bool
                                    - float64
                                    type: string
                                required:
                                - toType
                                type: object
                              map:
                                additionalProperties:
                                  x-kubernetes-preserve-unknown-fields: true
                                description: Map uses the input as a key in the given
                                  map and returns the value.
                                type: object
                              match:
                                description: Match is a more complex version of Map
                                  that matches a list of patterns.
                                properties:
                                  fallbackTo:
                                    default: Value
                                    description: Determines to what value the transform
                                      should fallback if no pattern matches.
                                    enum:
                                    - Value
                                    - Input
                                    type: string
                                  fallbackValue:
                                    description: The fallback value that should be
                                      returned by the transform if now pattern matches.
                                    x-kubernetes-preserve-unknown-fields: true
                                  patterns:
                                    description: The patterns that should be tested
                                      against the input string. Patterns are tested
                                      in order. The value of the first match is used
                                      as result of this transform.
                                    items:
                                      description: MatchTransformPattern is a transform
                                        that returns the value that matches a pattern.
                                      properties:
                                        literal:
                                          description: Literal exactly matches the
                                            input string (case sensitive). Is required
                                            if `type` is `literal`.
                                          type: string
                                        regexp:
                                          description: Regexp to match against the
                                            input string. Is required if `type` is
                                            `regexp`.
                                          type: string
                                        result:
                                          description: The value that is used as result
                                            of the transform if the pattern matches.
                                          x-kubernetes-preserve-unknown-fields: true
                                        type:
                                          default: literal
                                          description: "Type specifies how the pattern
                                            matches the input. \n * `literal` - the
                                            pattern value has to exactly match (case
                                            sensitive) the input string. This is the
                                            default. \n * `regexp` - the pattern treated
                                            as a regular expression against which
                                            the input string is tested. Crossplane
                                            will throw an error if the key is not
                                            a valid regexp."
                                          enum:
                                          - literal
                                          - regexp
                                          type: string
                                      required:
                                      - result
                                      - type
                                      type: object
                                    type: array
                                type: object
                              math:
                                description: Math is used to transform the input via
                                  mathematical operations such as multiplication.
                                properties:
                                  clampMax:
                                    description: ClampMax makes sure that the value
                                      is not bigger than the given value.
                                    format: int64
                                    type: integer
                                  clampMin:
                                    description: ClampMin makes sure that the value
                                      is not smaller than the given value.
                                    format: int64
                                    type: integer
                                  multiply:
                                    description: Multiply the value.
                                    format: int64
                                    type: integer
                                  type:
                                    default: Multiply
                                    description: Type of the math transform to be
                                      run.
                                    enum:
                                    - Multiply
                                    - ClampMin
                                    - ClampMax
                                    type: string
                                type: object
                              string:
                                description: String is used to transform the input
                                  into a string or a different kind of string. Note
                                  that the input does not necessarily need to be a
                                  string.
                                properties:
                                  convert:
                                    description: Optional conversion method to be
                                      specified. `ToUpper` and `ToLower` change the
                                      letter case of the input string. `ToBase64`
                                      and `FromBase64` perform a base64 conversion
                                      based on the input string. `ToJson` converts
                                      any input value into its raw JSON representation.
                                      `ToSha1`, `ToSha256` and `ToSha512` generate
                                      a hash value based on the input converted to
                                      JSON.
                                    enum:
                                    - ToUpper
                                    - ToLower
                                    - ToBase64
                                    - FromBase64
                                    - ToJson
                                    - ToSha1
                                    - ToSha256
                                    - ToSha512
                                    type: string
                                  fmt:
                                    description: Format the input using a Go format
                                      string. See https://golang.org/pkg/fmt/ for
                                      details.
                                    type: string
                                  regexp:
                                    description: Extract a match from the input using
                                      a regular expression.
                                    properties:
                                      group:
                                        description: Group number to match. 0 (the
                                          default) matches the entire expression.
                                        type: integer
                                      match:
                                        description: Match string. May optionally
                                          include submatches, aka capture groups.
                                          See https://pkg.go.dev/regexp/ for details.
                                        type: string
                                    required:
                                    - match
                                    type: object
                                  trim:
                                    description: Trim the prefix or suffix from the
                                      input
                                    type: string
                                  type:
                                    default: Format
                                    description: Type of the string transform to be
                                      run.
                                    enum:
                                    - Format
                                    - Convert
                                    - TrimPrefix
                                    - TrimSuffix
                                    - Regexp
                                    type: string
                                type: object
                              type:
                                description: Type of the transform to be run.
                                enum:
                                - map
                                - match
                                - math
                                - string
                                - convert
                                type: string
                            required:
                            - type
                            type: object
                          type: array
                        type:
                          default: FromCompositeFieldPath
                          description: Type sets the patching behaviour to be used.
                            Each patch type may require its own fields to be set on
                            the Patch object.
                          enum:
                          - FromCompositeFieldPath
                          - ToCompositeFieldPath
                          - CombineFromComposite
                          - CombineToComposite
                          type: string
                      type: object
                    type: array
                type: object
              functions:
                description: Functions is list of Composition Functions that will
                  be used when a composite resource referring to this composition
                  is created. At least one of resources and functions must be specified.
                  If both are specified the resources will be rendered first, then
                  passed to the functions for further processing.
                items:
                  description: A Function represents a Composition Function.
                  properties:
                    config:
                      description: Config is an optional, arbitrary Kubernetes resource
                        (i.e. a resource with an apiVersion and kind) that will be
                        passed to the Composition Function as the 'config' block of
                        its FunctionIO.
                      type: object
                      x-kubernetes-embedded-resource: true
                      x-kubernetes-preserve-unknown-fields: true
                    container:
                      description: Container configuration of this function.
                      properties:
                        image:
                          description: Image specifies the OCI image in which the
                            function is packaged. The image should include an entrypoint
                            that reads a FunctionIO from stdin and emits it, optionally
                            mutated, to stdout.
                          type: string
                        imagePullPolicy:
                          default: IfNotPresent
                          description: ImagePullPolicy defines the pull policy for
                            the function image.
                          enum:
                          - IfNotPresent
                          - Always
                          - Never
                          type: string
                        network:
                          description: Network configuration for the Composition Function.
                          properties:
                            policy:
                              default: Isolated
                              description: Policy specifies the network policy under
                                which the Composition Function will run. Defaults
                                to 'Isolated' - i.e. no network access. Specify 'Runner'
                                to allow the function the same network access as its
                                runner.
                              enum:
                              - Isolated
                              - Runner
                              type: string
                          type: object
                        resources:
                          description: Resources that may be used by the Composition
                            Function.
                          properties:
                            limits:
                              description: Limits specify the maximum compute resources
                                that may be used by the Composition Function.
                              properties:
                                cpu:
                                  anyOf:
                                  - type: integer
                                  - type: string
                                  default: 100m
                                  description: CPU, in cores. (500m = .5 cores)
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                memory:
                                  anyOf:
                                  - type: integer
                                  - type: string
                                  default: 128Mi
                                  description: Memory, in bytes. (500Gi = 500GiB =
                                    500 * 1024 * 1024 * 1024)
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                              type: object
                          type: object
                        runner:
                          description: Runner configuration for the Composition Function.
                          properties:
                            endpoint:
                              default: unix:///@crossplane/fn/default.sock
                              description: Endpoint specifies how and where Crossplane
                                should reach the runner it uses to invoke containerized
                                Composition Functions.
                              type: string
                          type: object
                        timeout:
                          default: 20s
                          description: Timeout after which the Composition Function
                            will be killed.
                          type: string
                      required:
                      - image
                      type: object
                    name:
                      description: Name of this function. Must be unique within its
                        Composition.
                      type: string
                    type:
                      description: Type of this function.
                      enum:
                      - Container
                      type: string
                  required:
                  - name
                  - type
                  type: object
                type: array
              patchSets:
                description: PatchSets define a named set of patches that may be included
                  by any resource in this Composition. PatchSets cannot themselves
                  refer to other PatchSets.
                items:
                  description: A PatchSet is a set of patches that can be reused from
                    all resources within a Composition.
                  properties:
                    name:
                      description: Name of this PatchSet.
                      type: string
                    patches:
                      description: Patches will be applied as an overlay to the base
                        resource.
                      items:
                        description: Patch objects are applied between composite and
                          composed resources. Their behaviour depends on the Type
                          selected. The default Type, FromCompositeFieldPath, copies
                          a value from the composite resource to the composed resource,
                          applying any defined transformers.
                        properties:
                          combine:
                            description: Combine is the patch configuration for a
                              CombineFromComposite or CombineToComposite patch.
                            properties:
                              strategy:
                                description: Strategy defines the strategy to use
                                  to combine the input variable values. Currently
                                  only string is supported.
                                enum:
                                - string
                                type: string
                              string:
                                description: String declares that input variables
                                  should be combined into a single string, using the
                                  relevant settings for formatting purposes.
                                properties:
                                  fmt:
                                    description: Format the input using a Go format
                                      string. See https://golang.org/pkg/fmt/ for
                                      details.
                                    type: string
                                required:
                                - fmt
                                type: object
                              variables:
                                description: Variables are the list of variables whose
                                  values will be retrieved and combined.
                                items:
                                  description: A CombineVariable defines the source
                                    of a value that is combined with others to form
                                    and patch an output value. Currently, this only
                                    supports retrieving values from a field path.
                                  properties:
                                    fromFieldPath:
                                      description: FromFieldPath is the path of the
                                        field on the source whose value is to be used
                                        as input.
                                      type: string
                                  required:
                                  - fromFieldPath
                                  type: object
                                minItems: 1
                                type: array
                            required:
                            - strategy
                            - variables
                            type: object
                          fromFieldPath:
                            description: FromFieldPath is the path of the field on
                              the resource whose value is to be used as input. Required
                              when type is FromCompositeFieldPath or ToCompositeFieldPath.
                            type: string
                          patchSetName:
                            description: PatchSetName to include patches from. Required
                              when type is PatchSet.
                            type: string
                          policy:
                            description: Policy configures the specifics of patching
                              behaviour.
                            properties:
                              fromFieldPath:
                                description: FromFieldPath specifies how to patch
                                  from a field path. The default is 'Optional', which
                                  means the patch will be a no-op if the specified
                                  fromFieldPath does not exist. Use 'Required' if
                                  the patch should fail if the specified path does
                                  not exist.
                                enum:
                                - Optional
                                - Required
                                type: string
                              mergeOptions:
                                description: MergeOptions Specifies merge options
                                  on a field path
                                properties:
                                  appendSlice:
                                    description: Specifies that already existing elements
                                      in a merged slice should be preserved
                                    type: boolean
                                  keepMapValues:
                                    description: Specifies that already existing values
                                      in a merged map should be preserved
                                    type: boolean
                                type: object
                            type: object
                          toFieldPath:
                            description: ToFieldPath is the path of the field on the
                              resource whose value will be changed with the result
                              of transforms. Leave empty if you'd like to propagate
                              to the same path as fromFieldPath.
                            type: string
                          transforms:
                            description: Transforms are the list of functions that
                              are used as a FIFO pipe for the input to be transformed.
                            items:
                              description: Transform is a unit of process whose input
                                is transformed into an output with the supplied configuration.
                              properties:
                                convert:
                                  description: Convert is used to cast the input into
                                    the given output type.
                                  properties:
                                    format:
                                      description: "The expected input format. \n
                                        * `quantity` - parses the input as a K8s [`resource.Quantity`](https://pkg.go.dev/k8s.io/apimachinery/pkg/api/resource#Quantity).
                                        Only used during `string -> float64` conversions.
                                        \n If this property is null, the default conversion
                                        is applied."
                                      enum:
                                      - quantity
                                      type: string
                                    toType:
                                      description: ToType is the type of the output
                                        of this transform.
                                      enum:
                                      - string
                                      - int
                                      - int64
                                      - bool
                                      - float64
                                      type: string
                                  required:
                                  - toType
                                  type: object
                                map:
                                  additionalProperties:
                                    x-kubernetes-preserve-unknown-fields: true
                                  description: Map uses the input as a key in the
                                    given map and returns the value.
                                  type: object
                                match:
                                  description: Match is a more complex version of
                                    Map that matches a list of patterns.
                                  properties:
                                    fallbackTo:
                                      default: Value
                                      description: Determines to what value the transform
                                        should fallback if no pattern matches.
                                      enum:
                                      - Value
                                      - Input
                                      type: string
                                    fallbackValue:
                                      description: The fallback value that should
                                        be returned by the transform if now pattern
                                        matches.
                                      x-kubernetes-preserve-unknown-fields: true
                                    patterns:
                                      description: The patterns that should be tested
                                        against the input string. Patterns are tested
                                        in order. The value of the first match is
                                        used as result of this transform.
                                      items:
                                        description: MatchTransformPattern is a transform
                                          that returns the value that matches a pattern.
                                        properties:
                                          literal:
                                            description: Literal exactly matches the
                                              input string (case sensitive). Is required
                                              if `type` is `literal`.
                                            type: string
                                          regexp:
                                            description: Regexp to match against the
                                              input string. Is required if `type`
                                              is `regexp`.
                                            type: string
                                          result:
                                            description: The value that is used as
                                              result of the transform if the pattern
                                              matches.
                                            x-kubernetes-preserve-unknown-fields: true
                                          type:
                                            default: literal
                                            description: "Type specifies how the pattern
                                              matches the input. \n * `literal` -
                                              the pattern value has to exactly match
                                              (case sensitive) the input string. This
                                              is the default. \n * `regexp` - the
                                              pattern treated as a regular expression
                                              against which the input string is tested.
                                              Crossplane will throw an error if the
                                              key is not a valid regexp."
                                            enum:
                                            - literal
                                            - regexp
                                            type: string
                                        required:
                                        - result
                                        - type
                                        type: object
                                      type: array
                                  type: object
                                math:
                                  description: Math is used to transform the input
                                    via mathematical operations such as multiplication.
                                  properties:
                                    clampMax:
                                      description: ClampMax makes sure that the value
                                        is not bigger than the given value.
                                      format: int64
                                      type: integer
                                    clampMin:
                                      description: ClampMin makes sure that the value
                                        is not smaller than the given value.
                                      format: int64
                                      type: integer
                                    multiply:
                                      description: Multiply the value.
                                      format: int64
                                      type: integer
                                    type:
                                      default: Multiply
                                      description: Type of the math transform to be
                                        run.
                                      enum:
                                      - Multiply
                                      - ClampMin
                                      - ClampMax
                                      type: string
                                  type: object
                                string:
                                  description: String is used to transform the input
                                    into a string or a different kind of string. Note
                                    that the input does not necessarily need to be
                                    a string.
                                  properties:
                                    convert:
                                      description: Optional conversion method to be
                                        specified. `ToUpper` and `ToLower` change
                                        the letter case of the input string. `ToBase64`
                                        and `FromBase64` perform a base64 conversion
                                        based on the input string. `ToJson` converts
                                        any input value into its raw JSON representation.
                                        `ToSha1`, `ToSha256` and `ToSha512` generate
                                        a hash value based on the input converted
                                        to JSON.
                                      enum:
                                      - ToUpper
                                      - ToLower
                                      - ToBase64
                                      - FromBase64
                                      - ToJson
                                      - ToSha1
                                      - ToSha256
                                      - ToSha512
                                      type: string
                                    fmt:
                                      description: Format the input using a Go format
                                        string. See https://golang.org/pkg/fmt/ for
                                        details.
                                      type: string
                                    regexp:
                                      description: Extract a match from the input
                                        using a regular expression.
                                      properties:
                                        group:
                                          description: Group number to match. 0 (the
                                            default) matches the entire expression.
                                          type: integer
                                        match:
                                          description: Match string. May optionally
                                            include submatches, aka capture groups.
                                            See https://pkg.go.dev/regexp/ for details.
                                          type: string
                                      required:
                                      - match
                                      type: object
                                    trim:
                                      description: Trim the prefix or suffix from
                                        the input
                                      type: string
                                    type:
                                      default: Format
                                      description: Type of the string transform to
                                        be run.
                                      enum:
                                      - Format
                                      - Convert
                                      - TrimPrefix
                                      - TrimSuffix
                                      - Regexp
                                      type: string
                                  type: object
                                type:
                                  description: Type of the transform to be run.
                                  enum:
                                  - map
                                  - match
                                  - math
                                  - string
                                  - convert
                                  type: string
                              required:
                              - type
                              type: object
                            type: array
                          type:
                            default: FromCompositeFieldPath
                            description: Type sets the patching behaviour to be used.
                              Each patch type may require its own fields to be set
                              on the Patch object.
                            enum:
                            - FromCompositeFieldPath
                            - FromEnvironmentFieldPath
                            - PatchSet
                            - ToCompositeFieldPath
                            - ToEnvironmentFieldPath
                            - CombineFromEnvironment
                            - CombineFromComposite
                            - CombineToComposite
                            - CombineToEnvironment
                            type: string
                        type: object
                      type: array
                  required:
                  - name
                  - patches
                  type: object
                type: array
              publishConnectionDetailsWithStoreConfigRef:
                default:
                  name: default
                description: PublishConnectionDetailsWithStoreConfig specifies the
                  secret store config with which the connection details of composite
                  resources dynamically provisioned using this composition will be
                  published.
                properties:
                  name:
                    description: Name of the referenced StoreConfig.
                    type: string
                required:
                - name
                type: object
              resources:
                description: Resources is the list of resource templates that will
                  be used when a composite resource referring to this composition
                  is created.
                items:
                  description: ComposedTemplate is used to provide information about
                    how the composed resource should be processed.
                  properties:
                    base:
                      description: Base is the target resource that the patches will
                        be applied on.
                      type: object
                      x-kubernetes-embedded-resource: true
                      x-kubernetes-preserve-unknown-fields: true
                    connectionDetails:
                      description: ConnectionDetails lists the propagation secret
                        keys from this target resource to the composition instance
                        connection secret.
                      items:
                        description: ConnectionDetail includes the information about
                          the propagation of the connection information from one secret
                          to another.
                        properties:
                          fromConnectionSecretKey:
                            description: FromConnectionSecretKey is the key that will
                              be used to fetch the value from the given target resource's
                              secret.
                            type: string
                          fromFieldPath:
                            description: FromFieldPath is the path of the field on
                              the composed resource whose value to be used as input.
                              Name must be specified if the type is FromFieldPath
                              is specified.
                            type: string
                          name:
                            description: Name of the connection secret key that will
                              be propagated to the connection secret of the composition
                              instance. Leave empty if you'd like to use the same
                              key name.
                            type: string
                          type:
                            description: Type sets the connection detail fetching
                              behaviour to be used. Each connection detail type may
                              require its own fields to be set on the ConnectionDetail
                              object. If the type is omitted Crossplane will attempt
                              to infer it based on which other fields were specified.
                            enum:
                            - FromConnectionSecretKey
                            - FromFieldPath
                            - FromValue
                            type: string
                          value:
                            description: Value that will be propagated to the connection
                              secret of the composition instance. Typically you should
                              use FromConnectionSecretKey instead, but an explicit
                              value may be set to inject a fixed, non-sensitive connection
                              secret values, for example a well-known port. Supercedes
                              FromConnectionSecretKey when set.
                            type: string
                        type: object
                      type: array
                    name:
                      description: A Name uniquely identifies this entry within its
                        Composition's resources array. Names are optional but *strongly*
                        recommended. When all entries in the resources array are named
                        entries may added, deleted, and reordered as long as their
                        names do not change. When entries are not named the length
                        and order of the resources array should be treated as immutable.
                        Either all or no entries must be named.
                      type: string
                    patches:
                      description: Patches will be applied as overlay to the base
                        resource.
                      items:
                        description: Patch objects are applied between composite and
                          composed resources. Their behaviour depends on the Type
                          selected. The default Type, FromCompositeFieldPath, copies
                          a value from the composite resource to the composed resource,
                          applying any defined transformers.
                        properties:
                          combine:
                            description: Combine is the patch configuration for a
                              CombineFromComposite or CombineToComposite patch.
                            properties:
                              strategy:
                                description: Strategy defines the strategy to use
                                  to combine the input variable values. Currently
                                  only string is supported.
                                enum:
                                - string
                                type: string
                              string:
                                description: String declares that input variables
                                  should be combined into a single string, using the
                                  relevant settings for formatting purposes.
                                properties:
                                  fmt:
                                    description: Format the input using a Go format
                                      string. See https://golang.org/pkg/fmt/ for
                                      details.
                                    type: string
                                required:
                                - fmt
                                type: object
                              variables:
                                description: Variables are the list of variables whose
                                  values will be retrieved and combined.
                                items:
                                  description: A CombineVariable defines the source
                                    of a value that is combined with others to form
                                    and patch an output value. Currently, this only
                                    supports retrieving values from a field path.
                                  properties:
                                    fromFieldPath:
                                      description: FromFieldPath is the path of the
                                        field on the source whose value is to be used
                                        as input.
                                      type: string
                                  required:
                                  - fromFieldPath
                                  type: object
                                minItems: 1
                                type: array
                            required:
                            - strategy
                            - variables
                            type: object
                          fromFieldPath:
                            description: FromFieldPath is the path of the field on
                              the resource whose value is to be used as input. Required
                              when type is FromCompositeFieldPath or ToCompositeFieldPath.
                            type: string
                          patchSetName:
                            description: PatchSetName to include patches from. Required
                              when type is PatchSet.
                            type: string
                          policy:
                            description: Policy configures the specifics of patching
                              behaviour.
                            properties:
                              fromFieldPath:
                                description: FromFieldPath specifies how to patch
                                  from a field path. The default is 'Optional', which
                                  means the patch will be a no-op if the specified
                                  fromFieldPath does not exist. Use 'Required' if
                                  the patch should fail if the specified path does
                                  not exist.
                                enum:
                                - Optional
                                - Required
                                type: string
                              mergeOptions:
                                description: MergeOptions Specifies merge options
                                  on a field path
                                properties:
                                  appendSlice:
                                    description: Specifies that already existing elements
                                      in a merged slice should be preserved
                                    type: boolean
                                  keepMapValues:
                                    description: Specifies that already existing values
                                      in a merged map should be preserved
                                    type: boolean
                                type: object
                            type: object
                          toFieldPath:
                            description: ToFieldPath is the path of the field on the
                              resource whose value will be changed with the result
                              of transforms. Leave empty if you'd like to propagate
                              to the same path as fromFieldPath.
                            type: string
                          transforms:
                            description: Transforms are the list of functions that
                              are used as a FIFO pipe for the input to be transformed.
                            items:
                              description: Transform is a unit of process whose input
                                is transformed into an output with the supplied configuration.
                              properties:
                                convert:
                                  description: Convert is used to cast the input into
                                    the given output type.
                                  properties:
                                    format:
                                      description: "The expected input format. \n
                                        * `quantity` - parses the input as a K8s [`resource.Quantity`](https://pkg.go.dev/k8s.io/apimachinery/pkg/api/resource#Quantity).
                                        Only used during `string -> float64` conversions.
                                        \n If this property is null, the default conversion
                                        is applied."
                                      enum:
                                      - quantity
                                      type: string
                                    toType:
                                      description: ToType is the type of the output
                                        of this transform.
                                      enum:
                                      - string
                                      - int
                                      - int64
                                      - bool
                                      - float64
                                      type: string
                                  required:
                                  - toType
                                  type: object
                                map:
                                  additionalProperties:
                                    x-kubernetes-preserve-unknown-fields: true
                                  description: Map uses the input as a key in the
                                    given map and returns the value.
                                  type: object
                                match:
                                  description: Match is a more complex version of
                                    Map that matches a list of patterns.
                                  properties:
                                    fallbackTo:
                                      default: Value
                                      description: Determines to what value the transform
                                        should fallback if no pattern matches.
                                      enum:
                                      - Value
                                      - Input
                                      type: string
                                    fallbackValue:
                                      description: The fallback value that should
                                        be returned by the transform if now pattern
                                        matches.
                                      x-kubernetes-preserve-unknown-fields: true
                                    patterns:
                                      description: The patterns that should be tested
                                        against the input string. Patterns are tested
                                        in order. The value of the first match is
                                        used as result of this transform.
                                      items:
                                        description: MatchTransformPattern is a transform
                                          that returns the value that matches a pattern.
                                        properties:
                                          literal:
                                            description: Literal exactly matches the
                                              input string (case sensitive). Is required
                                              if `type` is `literal`.
                                            type: string
                                          regexp:
                                            description: Regexp to match against the
                                              input string. Is required if `type`
                                              is `regexp`.
                                            type: string
                                          result:
                                            description: The value that is used as
                                              result of the transform if the pattern
                                              matches.
                                            x-kubernetes-preserve-unknown-fields: true
                                          type:
                                            default: literal
                                            description: "Type specifies how the pattern
                                              matches the input. \n * `literal` -
                                              the pattern value has to exactly match
                                              (case sensitive) the input string. This
                                              is the default. \n * `regexp` - the
                                              pattern treated as a regular expression
                                              against which the input string is tested.
                                              Crossplane will throw an error if the
                                              key is not a valid regexp."
                                            enum:
                                            - literal
                                            - regexp
                                            type: string
                                        required:
                                        - result
                                        - type
                                        type: object
                                      type: array
                                  type: object
                                math:
                                  description: Math is used to transform the input
                                    via mathematical operations such as multiplication.
                                  properties:
                                    clampMax:
                                      description: ClampMax makes sure that the value
                                        is not bigger than the given value.
                                      format: int64
                                      type: integer
                                    clampMin:
                                      description: ClampMin makes sure that the value
                                        is not smaller than the given value.
                                      format: int64
                                      type: integer
                                    multiply:
                                      description: Multiply the value.
                                      format: int64
                                      type: integer
                                    type:
                                      default: Multiply
                                      description: Type of the math transform to be
                                        run.
                                      enum:
                                      - Multiply
                                      - ClampMin
                                      - ClampMax
                                      type: string
                                  type: object
                                string:
                                  description: String is used to transform the input
                                    into a string or a different kind of string. Note
                                    that the input does not necessarily need to be
                                    a string.
                                  properties:
                                    convert:
                                      description: Optional conversion method to be
                                        specified. `ToUpper` and `ToLower` change
                                        the letter case of the input string. `ToBase64`
                                        and `FromBase64` perform a base64 conversion
                                        based on the input string. `ToJson` converts
                                        any input value into its raw JSON representation.
                                        `ToSha1`, `ToSha256` and `ToSha512` generate
                                        a hash value based on the input converted
                                        to JSON.
                                      enum:
                                      - ToUpper
                                      - ToLower
                                      - ToBase64
                                      - FromBase64
                                      - ToJson
                                      - ToSha1
                                      - ToSha256
                                      - ToSha512
                                      type: string
                                    fmt:
                                      description: Format the input using a Go format
                                        string. See https://golang.org/pkg/fmt/ for
                                        details.
                                      type: string
                                    regexp:
                                      description: Extract a match from the input
                                        using a regular expression.
                                      properties:
                                        group:
                                          description: Group number to match. 0 (the
                                            default) matches the entire expression.
                                          type: integer
                                        match:
                                          description: Match string. May optionally
                                            include submatches, aka capture groups.
                                            See https://pkg.go.dev/regexp/ for details.
                                          type: string
                                      required:
                                      - match
                                      type: object
                                    trim:
                                      description: Trim the prefix or suffix from
                                        the input
                                      type: string
                                    type:
                                      default: Format
                                      description: Type of the string transform to
                                        be run.
                                      enum:
                                      - Format
                                      - Convert
                                      - TrimPrefix
                                      - TrimSuffix
                                      - Regexp
                                      type: string
                                  type: object
                                type:
                                  description: Type of the transform to be run.
                                  enum:
                                  - map
                                  - match
                                  - math
                                  - string
                                  - convert
                                  type: string
                              required:
                              - type
                              type: object
                            type: array
                          type:
                            default: FromCompositeFieldPath
                            description: Type sets the patching behaviour to be used.
                              Each patch type may require its own fields to be set
                              on the Patch object.
                            enum:
                            - FromCompositeFieldPath
                            - FromEnvironmentFieldPath
                            - PatchSet
                            - ToCompositeFieldPath
                            - ToEnvironmentFieldPath
                            - CombineFromEnvironment
                            - CombineFromComposite
                            - CombineToComposite
                            - CombineToEnvironment
                            type: string
                        type: object
                      type: array
                    readinessChecks:
                      description: ReadinessChecks allows users to define custom readiness
                        checks. All checks have to return true in order for resource
                        to be considered ready. The default readiness check is to
                        have the "Ready" condition to be "True".
                      items:
                        description: ReadinessCheck is used to indicate how to tell
                          whether a resource is ready for consumption
                        properties:
                          fieldPath:
                            description: FieldPath shows the path of the field whose
                              value will be used.
                            type: string
                          matchInteger:
                            description: MatchInt is the value you'd like to match
                              if you're using "MatchInt" type.
                            format: int64
                            type: integer
                          matchString:
                            description: MatchString is the value you'd like to match
                              if you're using "MatchString" type.
                            type: string
                          type:
                            description: Type indicates the type of probe you'd like
                              to use.
                            enum:
                            - MatchString
                            - MatchInteger
                            - NonEmpty
                            - None
                            type: string
                        required:
                        - type
                        type: object
                      type: array
                  required:
                  - base
                  type: object
                type: array
              revision:
                description: Revision number. Newer revisions have larger numbers.
                format: int64
                type: integer
              writeConnectionSecretsToNamespace:
                description: WriteConnectionSecretsToNamespace specifies the namespace
                  in which the connection secrets of composite resource dynamically
                  provisioned using this composition will be created. This field is
                  planned to be removed in a future release in favor of PublishConnectionDetailsWithStoreConfigRef.
                  Currently, both could be set independently and connection details
                  would be published to both without affecting each other as long
                  as related fields at MR level specified.
                type: string
            required:
            - compositeTypeRef
            - revision
            type: object
          status:
            description: CompositionRevisionStatus shows the observed state of the
              composition revision.
            properties:
              conditions:
                description: Conditions of the resource.
                items:
                  description: A Condition that may apply to a resource.
                  properties:
                    lastTransitionTime:
                      description: LastTransitionTime is the last time this condition
                        transitioned from one status to another.
                      format: date-time
                      type: string
                    message:
                      description: A Message containing details about this condition's
                        last transition from one status to another, if any.
                      type: string
                    reason:
                      description: A Reason for this condition's last transition from
                        one status to another.
                      type: string
                    status:
                      description: Status of this condition; is it currently True,
                        False, or Unknown?
                      type: string
                    type:
                      description: Type of this condition. At most one of each condition
                        type may apply to a resource at any point in time.
                      type: string
                  required:
                  - lastTransitionTime
                  - reason
                  - status
                  - type
                  type: object
                type: array
            type: object
        type: object
    served: true
    storage: false
    subresources:
      status: {}
  - additionalPrinterColumns:
    - jsonPath: .spec.revision
      name: REVISION
      type: string
    - jsonPath: .spec.compositeTypeRef.kind
      name: XR-KIND
      type: string
    - jsonPath: .spec.compositeTypeRef.apiVersion
      name: XR-APIVERSION
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: AGE
      type: date
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: A CompositionRevision represents a revision in time of a Composition.
          Revisions are created by Crossplane; they should be treated as immutable.
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: CompositionRevisionSpec specifies the desired state of the
              composition revision.
            properties:
              compositeTypeRef:
                description: CompositeTypeRef specifies the type of composite resource
                  that this composition is compatible with.
                properties:
                  apiVersion:
                    description: APIVersion of the type.
                    type: string
                  kind:
                    description: Kind of the type.
                    type: string
                required:
                - apiVersion
                - kind
                type: object
              environment:
                description: Environment configures the environment in which resources
                  are rendered.
                properties:
                  environmentConfigs:
                    description: "EnvironmentConfigs selects a list of `EnvironmentConfig`s.
                      The resolved resources are stored in the composite resource
                      at `spec.environmentConfigRefs` and is only updated if it is
                      null. \n The list of references is used to compute an in-memory
                      environment at compose time. The data of all object is merged
                      in the order they are listed, meaning the values of EnvironmentConfigs
                      with a larger index take priority over ones with smaller indices.
                      \n The computed environment can be accessed in a composition
                      using `FromEnvironmentFieldPath` and `CombineFromEnvironment`
                      patches."
                    items:
                      description: EnvironmentSource selects a EnvironmentConfig resource.
                      properties:
                        ref:
                          description: Ref is a named reference to a single EnvironmentConfig.
                            Either Ref or Selector is required.
                          properties:
                            name:
                              description: The name of the object.
                              type: string
                          required:
                          - name
                          type: object
                        selector:
                          description: Selector selects one EnvironmentConfig via
                            labels.
                          properties:
                            matchLabels:
                              description: MatchLabels ensures an object with matching
                                labels is selected.
                              items:
                                description: An EnvironmentSourceSelectorLabelMatcher
                                  acts like a k8s label selector but can draw the
                                  label value from a different path.
                                properties:
                                  key:
                                    description: Key of the label to match.
                                    type: string
                                  type:
                                    default: FromCompositeFieldPath
                                    description: Type specifies where the value for
                                      a label comes from.
                                    enum:
                                    - FromCompositeFieldPath
                                    - Value
                                    type: string
                                  value:
                                    description: Value specifies a literal label value.
                                    type: string
                                  valueFromFieldPath:
                                    description: ValueFromFieldPath specifies the
                                      field path to look for the label value.
                                    type: string
                                required:
                                - key
                                type: object
                              type: array
                          type: object
                        type:
                          default: Reference
                          description: Type specifies the way the EnvironmentConfig
                            is selected. Default is `Reference`
                          enum:
                          - Reference
                          - Selector
                          type: string
                      type: object
                    type: array
                  patches:
                    description: Patches is a list of environment patches that are
                      executed before a composition's resources are composed.
                    items:
                      description: EnvironmentPatch is a patch for a Composition environment.
                      properties:
                        combine:
                          description: Combine is the patch configuration for a CombineFromComposite
                            or CombineToComposite patch.
                          properties:
                            strategy:
                              description: Strategy defines the strategy to use to
                                combine the input variable values. Currently only
                                string is supported.
                              enum:
                              - string
                              type: string
                            string:
                              description: String declares that input variables should
                                be combined into a single string, using the relevant
                                settings for formatting purposes.
                              properties:
                                fmt:
                                  description: Format the input using a Go format
                                    string. See https://golang.org/pkg/fmt/ for details.
                                  type: string
                              required:
                              - fmt
                              type: object
                            variables:
                              description: Variables are the list of variables whose
                                values will be retrieved and combined.
                              items:
                                description: A CombineVariable defines the source
                                  of a value that is combined with others to form
                                  and patch an output value. Currently, this only
                                  supports retrieving values from a field path.
                                properties:
                                  fromFieldPath:
                                    description: FromFieldPath is the path of the
                                      field on the source whose value is to be used
                                      as input.
                                    type: string
                                required:
                                - fromFieldPath
                                type: object
                              minItems: 1
                              type: array
                          required:
                          - strategy
                          - variables
                          type: object
                        fromFieldPath:
                          description: FromFieldPath is the path of the field on the
                            resource whose value is to be used as input. Required
                            when type is FromCompositeFieldPath or ToCompositeFieldPath.
                          type: string
                        policy:
                          description: Policy configures the specifics of patching
                            behaviour.
                          properties:
                            fromFieldPath:
                              description: FromFieldPath specifies how to patch from
                                a field path. The default is 'Optional', which means
                                the patch will be a no-op if the specified fromFieldPath
                                does not exist. Use 'Required' if the patch should
                                fail if the specified path does not exist.
                              enum:
                              - Optional
                              - Required
                              type: string
                            mergeOptions:
                              description: MergeOptions Specifies merge options on
                                a field path
                              properties:
                                appendSlice:
                                  description: Specifies that already existing elements
                                    in a merged slice should be preserved
                                  type: boolean
                                keepMapValues:
                                  description: Specifies that already existing values
                                    in a merged map should be preserved
                                  type: boolean
                              type: object
                          type: object
                        toFieldPath:
                          description: ToFieldPath is the path of the field on the
                            resource whose value will be changed with the result of
                            transforms. Leave empty if you'd like to propagate to
                            the same path as fromFieldPath.
                          type: string
                        transforms:
                          description: Transforms are the list of functions that are
                            used as a FIFO pipe for the input to be transformed.
                          items:
                            description: Transform is a unit of process whose input
                              is transformed into an output with the supplied configuration.
                            properties:
                              convert:
                                description: Convert is used to cast the input into
                                  the given output type.
                                properties:
                                  format:
                                    description: "The expected input format. \n *
                                      `quantity` - parses the input as a K8s [`resource.Quantity`](https://pkg.go.dev/k8s.io/apimachinery/pkg/api/resource#Quantity).
                                      Only used during `string -> float64` conversions.
                                      \n If this property is null, the default conversion
                                      is applied."
                                    enum:
                                    - none
                                    - quantity
                                    type: string
                                  toType:
                                    description: ToType is the type of the output
                                      of this transform.
                                    enum:
                                    - string
                                    - int
                                    - int64
                                    - bool
                                    - float64
                                    type: string
                                required:
                                - toType
                                type: object
                              map:
                                additionalProperties:
                                  x-kubernetes-preserve-unknown-fields: true
                                description: Map uses the input as a key in the given
                                  map and returns the value.
                                type: object
                              match:
                                description: Match is a more complex version of Map
                                  that matches a list of patterns.
                                properties:
                                  fallbackTo:
                                    default: Value
                                    description: Determines to what value the transform
                                      should fallback if no pattern matches.
                                    enum:
                                    - Value
                                    - Input
                                    type: string
                                  fallbackValue:
                                    description: The fallback value that should be
                                      returned by the transform if now pattern matches.
                                    x-kubernetes-preserve-unknown-fields: true
                                  patterns:
                                    description: The patterns that should be tested
                                      against the input string. Patterns are tested
                                      in order. The value of the first match is used
                                      as result of this transform.
                                    items:
                                      description: MatchTransformPattern is a transform
                                        that returns the value that matches a pattern.
                                      properties:
                                        literal:
                                          description: Literal exactly matches the
                                            input string (case sensitive). Is required
                                            if `type` is `literal`.
                                          type: string
                                        regexp:
                                          description: Regexp to match against the
                                            input string. Is required if `type` is
                                            `regexp`.
                                          type: string
                                        result:
                                          description: The value that is used as result
                                            of the transform if the pattern matches.
                                          x-kubernetes-preserve-unknown-fields: true
                                        type:
                                          default: literal
                                          description: "Type specifies how the pattern
                                            matches the input. \n * `literal` - the
                                            pattern value has to exactly match (case
                                            sensitive) the input string. This is the
                                            default. \n * `regexp` - the pattern treated
                                            as a regular expression against which
                                            the input string is tested. Crossplane
                                            will throw an error if the key is not
                                            a valid regexp."
                                          enum:
                                          - literal
                                          - regexp
                                          type: string
                                      required:
                                      - result
                                      - type
                                      type: object
                                    type: array
                                type: object
                              math:
                                description: Math is used to transform the input via
                                  mathematical operations such as multiplication.
                                properties:
                                  clampMax:
                                    description: ClampMax makes sure that the value
                                      is not bigger than the given value.
                                    format: int64
                                    type: integer
                                  clampMin:
                                    description: ClampMin makes sure that the value
                                      is not smaller than the given value.
                                    format: int64
                                    type: integer
                                  multiply:
                                    description: Multiply the value.
                                    format: int64
                                    type: integer
                                  type:
                                    default: Multiply
                                    description: Type of the math transform to be
                                      run.
                                    enum:
                                    - Multiply
                                    - ClampMin
                                    - ClampMax
                                    type: string
                                type: object
                              string:
                                description: String is used to transform the input
                                  into a string or a different kind of string. Note
                                  that the input does not necessarily need to be a
                                  string.
                                properties:
                                  convert:
                                    description: Optional conversion method to be
                                      specified. `ToUpper` and `ToLower` change the
                                      letter case of the input string. `ToBase64`
                                      and `FromBase64` perform a base64 conversion
                                      based on the input string. `ToJson` converts
                                      any input value into its raw JSON representation.
                                      `ToSha1`, `ToSha256` and `ToSha512` generate
                                      a hash value based on the input converted to
                                      JSON.
                                    enum:
                                    - ToUpper
                                    - ToLower
                                    - ToBase64
                                    - FromBase64
                                    - ToJson
                                    - ToSha1
                                    - ToSha256
                                    - ToSha512
                                    type: string
                                  fmt:
                                    description: Format the input using a Go format
                                      string. See https://golang.org/pkg/fmt/ for
                                      details.
                                    type: string
                                  regexp:
                                    description: Extract a match from the input using
                                      a regular expression.
                                    properties:
                                      group:
                                        description: Group number to match. 0 (the
                                          default) matches the entire expression.
                                        type: integer
                                      match:
                                        description: Match string. May optionally
                                          include submatches, aka capture groups.
                                          See https://pkg.go.dev/regexp/ for details.
                                        type: string
                                    required:
                                    - match
                                    type: object
                                  trim:
                                    description: Trim the prefix or suffix from the
                                      input
                                    type: string
                                  type:
                                    default: Format
                                    description: Type of the string transform to be
                                      run.
                                    enum:
                                    - Format
                                    - Convert
                                    - TrimPrefix
                                    - TrimSuffix
                                    - Regexp
                                    type: string
                                type: object
                              type:
                                description: Type of the transform to be run.
                                enum:
                                - map
                                - match
                                - math
                                - string
                                - convert
                                type: string
                            required:
                            - type
                            type: object
                          type: array
                        type:
                          default: FromCompositeFieldPath
                          description: Type sets the patching behaviour to be used.
                            Each patch type may require its own fields to be set on
                            the Patch object.
                          enum:
                          - FromCompositeFieldPath
                          - FromEnvironmentFieldPath
                          - ToCompositeFieldPath
                          - CombineFromComposite
                          - CombineToComposite
                          type: string
                      type: object
                    type: array
                type: object
              functions:
                description: Functions is list of Composition Functions that will
                  be used when a composite resource referring to this composition
                  is created. At least one of resources and functions must be specified.
                  If both are specified the resources will be rendered first, then
                  passed to the functions for further processing.
                items:
                  description: A Function represents a Composition Function.
                  properties:
                    config:
                      description: Config is an optional, arbitrary Kubernetes resource
                        (i.e. a resource with an apiVersion and kind) that will be
                        passed to the Composition Function as the 'config' block of
                        its FunctionIO.
                      type: object
                      x-kubernetes-embedded-resource: true
                      x-kubernetes-preserve-unknown-fields: true
                    container:
                      description: Container configuration of this function.
                      properties:
                        image:
                          description: Image specifies the OCI image in which the
                            function is packaged. The image should include an entrypoint
                            that reads a FunctionIO from stdin and emits it, optionally
                            mutated, to stdout.
                          type: string
                        imagePullPolicy:
                          default: IfNotPresent
                          description: ImagePullPolicy defines the pull policy for
                            the function image.
                          enum:
                          - IfNotPresent
                          - Always
                          - Never
                          type: string
                        network:
                          description: Network configuration for the Composition Function.
                          properties:
                            policy:
                              default: Isolated
                              description: Policy specifies the network policy under
                                which the Composition Function will run. Defaults
                                to 'Isolated' - i.e. no network access. Specify 'Runner'
                                to allow the function the same network access as its
                                runner.
                              enum:
                              - Isolated
                              - Runner
                              type: string
                          type: object
                        resources:
                          description: Resources that may be used by the Composition
                            Function.
                          properties:
                            limits:
                              description: Limits specify the maximum compute resources
                                that may be used by the Composition Function.
                              properties:
                                cpu:
                                  anyOf:
                                  - type: integer
                                  - type: string
                                  default: 100m
                                  description: CPU, in cores. (500m = .5 cores)
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                                memory:
                                  anyOf:
                                  - type: integer
                                  - type: string
                                  default: 128Mi
                                  description: Memory, in bytes. (500Gi = 500GiB =
                                    500 * 1024 * 1024 * 1024)
                                  pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                                  x-kubernetes-int-or-string: true
                              type: object
                          type: object
                        runner:
                          description: Runner configuration for the Composition Function.
                          properties:
                            endpoint:
                              default: unix-abstract:crossplane/fn/default.sock
                              description: Endpoint specifies how and where Crossplane
                                should reach the runner it uses to invoke containerized
                                Composition Functions.
                              type: string
                          type: object
                        timeout:
                          default: 20s
                          description: Timeout after which the Composition Function
                            will be killed.
                          type: string
                      required:
                      - image
                      type: object
                    name:
                      description: Name of this function. Must be unique within its
                        Composition.
                      type: string
                    type:
                      description: Type of this function.
                      enum:
                      - Container
                      type: string
                  required:
                  - name
                  - type
                  type: object
                type: array
              patchSets:
                description: PatchSets define a named set of patches that may be included
                  by any resource in this Composition. PatchSets cannot themselves
                  refer to other PatchSets.
                items:
                  description: A PatchSet is a set of patches that can be reused from
                    all resources within a Composition.
                  properties:
                    name:
                      description: Name of this PatchSet.
                      type: string
                    patches:
                      description: Patches will be applied as an overlay to the base
                        resource.
                      items:
                        description: Patch objects are applied between composite and
                          composed resources. Their behaviour depends on the Type
                          selected. The default Type, FromCompositeFieldPath, copies
                          a value from the composite resource to the composed resource,
                          applying any defined transformers.
                        properties:
                          combine:
                            description: Combine is the patch configuration for a
                              CombineFromComposite, CombineFromEnvironment, CombineToComposite
                              or CombineToEnvironment patch.
                            properties:
                              strategy:
                                description: Strategy defines the strategy to use
                                  to combine the input variable values. Currently
                                  only string is supported.
                                enum:
                                - string
                                type: string
                              string:
                                description: String declares that input variables
                                  should be combined into a single string, using the
                                  relevant settings for formatting purposes.
                                properties:
                                  fmt:
                                    description: Format the input using a Go format
                                      string. See https://golang.org/pkg/fmt/ for
                                      details.
                                    type: string
                                required:
                                - fmt
                                type: object
                              variables:
                                description: Variables are the list of variables whose
                                  values will be retrieved and combined.
                                items:
                                  description: A CombineVariable defines the source
                                    of a value that is combined with others to form
                                    and patch an output value. Currently, this only
                                    supports retrieving values from a field path.
                                  properties:
                                    fromFieldPath:
                                      description: FromFieldPath is the path of the
                                        field on the source whose value is to be used
                                        as input.
                                      type: string
                                  required:
                                  - fromFieldPath
                                  type: object
                                minItems: 1
                                type: array
                            required:
                            - strategy
                            - variables
                            type: object
                          fromFieldPath:
                            description: FromFieldPath is the path of the field on
                              the resource whose value is to be used as input. Required
                              when type is FromCompositeFieldPath, FromEnvironmentFieldPath,
                              ToCompositeFieldPath, ToEnvironmentFieldPath.
                            type: string
                          patchSetName:
                            description: PatchSetName to include patches from. Required
                              when type is PatchSet.
                            type: string
                          policy:
                            description: Policy configures the specifics of patching
                              behaviour.
                            properties:
                              fromFieldPath:
                                description: FromFieldPath specifies how to patch
                                  from a field path. The default is 'Optional', which
                                  means the patch will be a no-op if the specified
                                  fromFieldPath does not exist. Use 'Required' if
                                  the patch should fail if the specified path does
                                  not exist.
                                enum:
                                - Optional
                                - Required
                                type: string
                              mergeOptions:
                                description: MergeOptions Specifies merge options
                                  on a field path
                                properties:
                                  appendSlice:
                                    description: Specifies that already existing elements
                                      in a merged slice should be preserved
                                    type: boolean
                                  keepMapValues:
                                    description: Specifies that already existing values
                                      in a merged map should be preserved
                                    type: boolean
                                type: object
                            type: object
                          toFieldPath:
                            description: ToFieldPath is the path of the field on the
                              resource whose value will be changed with the result
                              of transforms. Leave empty if you'd like to propagate
                              to the same path as fromFieldPath.
                            type: string
                          transforms:
                            description: Transforms are the list of functions that
                              are used as a FIFO pipe for the input to be transformed.
                            items:
                              description: Transform is a unit of process whose input
                                is transformed into an output with the supplied configuration.
                              properties:
                                convert:
                                  description: Convert is used to cast the input into
                                    the given output type.
                                  properties:
                                    format:
                                      description: "The expected input format. \n
                                        * `quantity` - parses the input as a K8s [`resource.Quantity`](https://pkg.go.dev/k8s.io/apimachinery/pkg/api/resource#Quantity).
                                        Only used during `string -> float64` conversions.
                                        \n If this property is null, the default conversion
                                        is applied."
                                      enum:
                                      - none
                                      - quantity
                                      type: string
                                    toType:
                                      description: ToType is the type of the output
                                        of this transform.
                                      enum:
                                      - string
                                      - int
                                      - int64
                                      - bool
                                      - float64
                                      type: string
                                  required:
                                  - toType
                                  type: object
                                map:
                                  additionalProperties:
                                    x-kubernetes-preserve-unknown-fields: true
                                  description: Map uses the input as a key in the
                                    given map and returns the value.
                                  type: object
                                match:
                                  description: Match is a more complex version of
                                    Map that matches a list of patterns.
                                  properties:
                                    fallbackTo:
                                      default: Value
                                      description: Determines to what value the transform
                                        should fallback if no pattern matches.
                                      enum:
                                      - Value
                                      - Input
                                      type: string
                                    fallbackValue:
                                      description: The fallback value that should
                                        be returned by the transform if now pattern
                                        matches.
                                      x-kubernetes-preserve-unknown-fields: true
                                    patterns:
                                      description: The patterns that should be tested
                                        against the input string. Patterns are tested
                                        in order. The value of the first match is
                                        used as result of this transform.
                                      items:
                                        description: MatchTransformPattern is a transform
                                          that returns the value that matches a pattern.
                                        properties:
                                          literal:
                                            description: Literal exactly matches the
                                              input string (case sensitive). Is required
                                              if `type` is `literal`.
                                            type: string
                                          regexp:
                                            description: Regexp to match against the
                                              input string. Is required if `type`
                                              is `regexp`.
                                            type: string
                                          result:
                                            description: The value that is used as
                                              result of the transform if the pattern
                                              matches.
                                            x-kubernetes-preserve-unknown-fields: true
                                          type:
                                            default: literal
                                            description: "Type specifies how the pattern
                                              matches the input. \n * `literal` -
                                              the pattern value has to exactly match
                                              (case sensitive) the input string. This
                                              is the default. \n * `regexp` - the
                                              pattern treated as a regular expression
                                              against which the input string is tested.
                                              Crossplane will throw an error if the
                                              key is not a valid regexp."
                                            enum:
                                            - literal
                                            - regexp
                                            type: string
                                        required:
                                        - result
                                        - type
                                        type: object
                                      type: array
                                  type: object
                                math:
                                  description: Math is used to transform the input
                                    via mathematical operations such as multiplication.
                                  properties:
                                    clampMax:
                                      description: ClampMax makes sure that the value
                                        is not bigger than the given value.
                                      format: int64
                                      type: integer
                                    clampMin:
                                      description: ClampMin makes sure that the value
                                        is not smaller than the given value.
                                      format: int64
                                      type: integer
                                    multiply:
                                      description: Multiply the value.
                                      format: int64
                                      type: integer
                                    type:
                                      default: Multiply
                                      description: Type of the math transform to be
                                        run.
                                      enum:
                                      - Multiply
                                      - ClampMin
                                      - ClampMax
                                      type: string
                                  type: object
                                string:
                                  description: String is used to transform the input
                                    into a string or a different kind of string. Note
                                    that the input does not necessarily need to be
                                    a string.
                                  properties:
                                    convert:
                                      description: Optional conversion method to be
                                        specified. `ToUpper` and `ToLower` change
                                        the letter case of the input string. `ToBase64`
                                        and `FromBase64` perform a base64 conversion
                                        based on the input string. `ToJson` converts
                                        any input value into its raw JSON representation.
                                        `ToSha1`, `ToSha256` and `ToSha512` generate
                                        a hash value based on the input converted
                                        to JSON.
                                      enum:
                                      - ToUpper
                                      - ToLower
                                      - ToBase64
                                      - FromBase64
                                      - ToJson
                                      - ToSha1
                                      - ToSha256
                                      - ToSha512
                                      type: string
                                    fmt:
                                      description: Format the input using a Go format
                                        string. See https://golang.org/pkg/fmt/ for
                                        details.
                                      type: string
                                    regexp:
                                      description: Extract a match from the input
                                        using a regular expression.
                                      properties:
                                        group:
                                          description: Group number to match. 0 (the
                                            default) matches the entire expression.
                                          type: integer
                                        match:
                                          description: Match string. May optionally
                                            include submatches, aka capture groups.
                                            See https://pkg.go.dev/regexp/ for details.
                                          type: string
                                      required:
                                      - match
                                      type: object
                                    trim:
                                      description: Trim the prefix or suffix from
                                        the input
                                      type: string
                                    type:
                                      default: Format
                                      description: Type of the string transform to
                                        be run.
                                      enum:
                                      - Format
                                      - Convert
                                      - TrimPrefix
                                      - TrimSuffix
                                      - Regexp
                                      type: string
                                  type: object
                                type:
                                  description: Type of the transform to be run.
                                  enum:
                                  - map
                                  - match
                                  - math
                                  - string
                                  - convert
                                  type: string
                              required:
                              - type
                              type: object
                            type: array
                          type:
                            default: FromCompositeFieldPath
                            description: Type sets the patching behaviour to be used.
                              Each patch type may require its own fields to be set
                              on the Patch object.
                            enum:
                            - FromCompositeFieldPath
                            - FromEnvironmentFieldPath
                            - PatchSet
                            - ToCompositeFieldPath
                            - ToEnvironmentFieldPath
                            - CombineFromEnvironment
                            - CombineFromComposite
                            - CombineToComposite
                            - CombineToEnvironment
                            type: string
                        type: object
                      type: array
                  required:
                  - name
                  - patches
                  type: object
                type: array
              publishConnectionDetailsWithStoreConfigRef:
                default:
                  name: default
                description: PublishConnectionDetailsWithStoreConfig specifies the
                  secret store config with which the connection details of composite
                  resources dynamically provisioned using this composition will be
                  published.
                properties:
                  name:
                    description: Name of the referenced StoreConfig.
                    type: string
                required:
                - name
                type: object
              resources:
                description: Resources is the list of resource templates that will
                  be used when a composite resource referring to this composition
                  is created.
                items:
                  description: ComposedTemplate is used to provide information about
                    how the composed resource should be processed.
                  properties:
                    base:
                      description: Base is the target resource that the patches will
                        be applied on.
                      type: object
                      x-kubernetes-embedded-resource: true
                      x-kubernetes-preserve-unknown-fields: true
                    connectionDetails:
                      description: ConnectionDetails lists the propagation secret
                        keys from this target resource to the composition instance
                        connection secret.
                      items:
                        description: ConnectionDetail includes the information about
                          the propagation of the connection information from one secret
                          to another.
                        properties:
                          fromConnectionSecretKey:
                            description: FromConnectionSecretKey is the key that will
                              be used to fetch the value from the composed resource's
                              connection secret.
                            type: string
                          fromFieldPath:
                            description: FromFieldPath is the path of the field on
                              the composed resource whose value to be used as input.
                              Name must be specified if the type is FromFieldPath.
                            type: string
                          name:
                            description: Name of the connection secret key that will
                              be propagated to the connection secret of the composition
                              instance. Leave empty if you'd like to use the same
                              key name.
                            type: string
                          type:
                            description: 'Type sets the connection detail fetching
                              behaviour to be used. Each connection detail type may
                              require its own fields to be set on the ConnectionDetail
                              object. If the type is omitted Crossplane will attempt
                              to infer it based on which other fields were specified.
                              If multiple fields are specified the order of precedence
                              is: 1. FromValue 2. FromConnectionSecretKey 3. FromFieldPath'
                            enum:
                            - FromConnectionSecretKey
                            - FromFieldPath
                            - FromValue
                            type: string
                          value:
                            description: Value that will be propagated to the connection
                              secret of the composite resource. May be set to inject
                              a fixed, non-sensitive connection secret value, for
                              example a well-known port.
                            type: string
                        type: object
                      type: array
                    name:
                      description: A Name uniquely identifies this entry within its
                        Composition's resources array. Names are optional but *strongly*
                        recommended. When all entries in the resources array are named
                        entries may added, deleted, and reordered as long as their
                        names do not change. When entries are not named the length
                        and order of the resources array should be treated as immutable.
                        Either all or no entries must be named.
                      type: string
                    patches:
                      description: Patches will be applied as overlay to the base
                        resource.
                      items:
                        description: Patch objects are applied between composite and
                          composed resources. Their behaviour depends on the Type
                          selected. The default Type, FromCompositeFieldPath, copies
                          a value from the composite resource to the composed resource,
                          applying any defined transformers.
                        properties:
                          combine:
                            description: Combine is the patch configuration for a
                              CombineFromComposite, CombineFromEnvironment, CombineToComposite
                              or CombineToEnvironment patch.
                            properties:
                              strategy:
                                description: Strategy defines the strategy to use
                                  to combine the input variable values. Currently
                                  only string is supported.
                                enum:
                                - string
                                type: string
                              string:
                                description: String declares that input variables
                                  should be combined into a single string, using the
                                  relevant settings for formatting purposes.
                                properties:
                                  fmt:
                                    description: Format the input using a Go format
                                      string. See https://golang.org/pkg/fmt/ for
                                      details.
                                    type: string
                                required:
                                - fmt
                                type: object
                              variables:
                                description: Variables are the list of variables whose
                                  values will be retrieved and combined.
                                items:
                                  description: A CombineVariable defines the source
                                    of a value that is combined with others to form
                                    and patch an output value. Currently, this only
                                    supports retrieving values from a field path.
                                  properties:
                                    fromFieldPath:
                                      description: FromFieldPath is the path of the
                                        field on the source whose value is to be used
                                        as input.
                                      type: string
                                  required:
                                  - fromFieldPath
                                  type: object
                                minItems: 1
                                type: array
                            required:
                            - strategy
                            - variables
                            type: object
                          fromFieldPath:
                            description: FromFieldPath is the path of the field on
                              the resource whose value is to be used as input. Required
                              when type is FromCompositeFieldPath, FromEnvironmentFieldPath,
                              ToCompositeFieldPath, ToEnvironmentFieldPath.
                            type: string
                          patchSetName:
                            description: PatchSetName to include patches from. Required
                              when type is PatchSet.
                            type: string
                          policy:
                            description: Policy configures the specifics of patching
                              behaviour.
                            properties:
                              fromFieldPath:
                                description: FromFieldPath specifies how to patch
                                  from a field path. The default is 'Optional', which
                                  means the patch will be a no-op if the specified
                                  fromFieldPath does not exist. Use 'Required' if
                                  the patch should fail if the specified path does
                                  not exist.
                                enum:
                                - Optional
                                - Required
                                type: string
                              mergeOptions:
                                description: MergeOptions Specifies merge options
                                  on a field path
                                properties:
                                  appendSlice:
                                    description: Specifies that already existing elements
                                      in a merged slice should be preserved
                                    type: boolean
                                  keepMapValues:
                                    description: Specifies that already existing values
                                      in a merged map should be preserved
                                    type: boolean
                                type: object
                            type: object
                          toFieldPath:
                            description: ToFieldPath is the path of the field on the
                              resource whose value will be changed with the result
                              of transforms. Leave empty if you'd like to propagate
                              to the same path as fromFieldPath.
                            type: string
                          transforms:
                            description: Transforms are the list of functions that
                              are used as a FIFO pipe for the input to be transformed.
                            items:
                              description: Transform is a unit of process whose input
                                is transformed into an output with the supplied configuration.
                              properties:
                                convert:
                                  description: Convert is used to cast the input into
                                    the given output type.
                                  properties:
                                    format:
                                      description: "The expected input format. \n
                                        * `quantity` - parses the input as a K8s [`resource.Quantity`](https://pkg.go.dev/k8s.io/apimachinery/pkg/api/resource#Quantity).
                                        Only used during `string -> float64` conversions.
                                        \n If this property is null, the default conversion
                                        is applied."
                                      enum:
                                      - none
                                      - quantity
                                      type: string
                                    toType:
                                      description: ToType is the type of the output
                                        of this transform.
                                      enum:
                                      - string
                                      - int
                                      - int64
                                      - bool
                                      - float64
                                      type: string
                                  required:
                                  - toType
                                  type: object
                                map:
                                  additionalProperties:
                                    x-kubernetes-preserve-unknown-fields: true
                                  description: Map uses the input as a key in the
                                    given map and returns the value.
                                  type: object
                                match:
                                  description: Match is a more complex version of
                                    Map that matches a list of patterns.
                                  properties:
                                    fallbackTo:
                                      default: Value
                                      description: Determines to what value the transform
                                        should fallback if no pattern matches.
                                      enum:
                                      - Value
                                      - Input
                                      type: string
                                    fallbackValue:
                                      description: The fallback value that should
                                        be returned by the transform if now pattern
                                        matches.
                                      x-kubernetes-preserve-unknown-fields: true
                                    patterns:
                                      description: The patterns that should be tested
                                        against the input string. Patterns are tested
                                        in order. The value of the first match is
                                        used as result of this transform.
                                      items:
                                        description: MatchTransformPattern is a transform
                                          that returns the value that matches a pattern.
                                        properties:
                                          literal:
                                            description: Literal exactly matches the
                                              input string (case sensitive). Is required
                                              if `type` is `literal`.
                                            type: string
                                          regexp:
                                            description: Regexp to match against the
                                              input string. Is required if `type`
                                              is `regexp`.
                                            type: string
                                          result:
                                            description: The value that is used as
                                              result of the transform if the pattern
                                              matches.
                                            x-kubernetes-preserve-unknown-fields: true
                                          type:
                                            default: literal
                                            description: "Type specifies how the pattern
                                              matches the input. \n * `literal` -
                                              the pattern value has to exactly match
                                              (case sensitive) the input string. This
                                              is the default. \n * `regexp` - the
                                              pattern treated as a regular expression
                                              against which the input string is tested.
                                              Crossplane will throw an error if the
                                              key is not a valid regexp."
                                            enum:
                                            - literal
                                            - regexp
                                            type: string
                                        required:
                                        - result
                                        - type
                                        type: object
                                      type: array
                                  type: object
                                math:
                                  description: Math is used to transform the input
                                    via mathematical operations such as multiplication.
                                  properties:
                                    clampMax:
                                      description: ClampMax makes sure that the value
                                        is not bigger than the given value.
                                      format: int64
                                      type: integer
                                    clampMin:
                                      description: ClampMin makes sure that the value
                                        is not smaller than the given value.
                                      format: int64
                                      type: integer
                                    multiply:
                                      description: Multiply the value.
                                      format: int64
                                      type: integer
                                    type:
                                      default: Multiply
                                      description: Type of the math transform to be
                                        run.
                                      enum:
                                      - Multiply
                                      - ClampMin
                                      - ClampMax
                                      type: string
                                  type: object
                                string:
                                  description: String is used to transform the input
                                    into a string or a different kind of string. Note
                                    that the input does not necessarily need to be
                                    a string.
                                  properties:
                                    convert:
                                      description: Optional conversion method to be
                                        specified. `ToUpper` and `ToLower` change
                                        the letter case of the input string. `ToBase64`
                                        and `FromBase64` perform a base64 conversion
                                        based on the input string. `ToJson` converts
                                        any input value into its raw JSON representation.
                                        `ToSha1`, `ToSha256` and `ToSha512` generate
                                        a hash value based on the input converted
                                        to JSON.
                                      enum:
                                      - ToUpper
                                      - ToLower
                                      - ToBase64
                                      - FromBase64
                                      - ToJson
                                      - ToSha1
                                      - ToSha256
                                      - ToSha512
                                      type: string
                                    fmt:
                                      description: Format the input using a Go format
                                        string. See https://golang.org/pkg/fmt/ for
                                        details.
                                      type: string
                                    regexp:
                                      description: Extract a match from the input
                                        using a regular expression.
                                      properties:
                                        group:
                                          description: Group number to match. 0 (the
                                            default) matches the entire expression.
                                          type: integer
                                        match:
                                          description: Match string. May optionally
                                            include submatches, aka capture groups.
                                            See https://pkg.go.dev/regexp/ for details.
                                          type: string
                                      required:
                                      - match
                                      type: object
                                    trim:
                                      description: Trim the prefix or suffix from
                                        the input
                                      type: string
                                    type:
                                      default: Format
                                      description: Type of the string transform to
                                        be run.
                                      enum:
                                      - Format
                                      - Convert
                                      - TrimPrefix
                                      - TrimSuffix
                                      - Regexp
                                      type: string
                                  type: object
                                type:
                                  description: Type of the transform to be run.
                                  enum:
                                  - map
                                  - match
                                  - math
                                  - string
                                  - convert
                                  type: string
                              required:
                              - type
                              type: object
                            type: array
                          type:
                            default: FromCompositeFieldPath
                            description: Type sets the patching behaviour to be used.
                              Each patch type may require its own fields to be set
                              on the Patch object.
                            enum:
                            - FromCompositeFieldPath
                            - FromEnvironmentFieldPath
                            - PatchSet
                            - ToCompositeFieldPath
                            - ToEnvironmentFieldPath
                            - CombineFromEnvironment
                            - CombineFromComposite
                            - CombineToComposite
                            - CombineToEnvironment
                            type: string
                        type: object
                      type: array
                    readinessChecks:
                      description: ReadinessChecks allows users to define custom readiness
                        checks. All checks have to return true in order for resource
                        to be considered ready. The default readiness check is to
                        have the "Ready" condition to be "True".
                      items:
                        description: ReadinessCheck is used to indicate how to tell
                          whether a resource is ready for consumption
                        properties:
                          fieldPath:
                            description: FieldPath shows the path of the field whose
                              value will be used.
                            type: string
                          matchInteger:
                            description: MatchInt is the value you'd like to match
                              if you're using "MatchInt" type.
                            format: int64
                            type: integer
                          matchString:
                            description: MatchString is the value you'd like to match
                              if you're using "MatchString" type.
                            type: string
                          type:
                            description: Type indicates the type of probe you'd like
                              to use.
                            enum:
                            - MatchString
                            - MatchInteger
                            - NonEmpty
                            - None
                            type: string
                        required:
                        - type
                        type: object
                      type: array
                  required:
                  - base
                  type: object
                type: array
              revision:
                description: Revision number. Newer revisions have larger numbers.
                format: int64
                type: integer
              writeConnectionSecretsToNamespace:
                description: WriteConnectionSecretsToNamespace specifies the namespace
                  in which the connection secrets of composite resource dynamically
                  provisioned using this composition will be created. This field is
                  planned to be removed in a future release in favor of PublishConnectionDetailsWithStoreConfigRef.
                  Currently, both could be set independently and connection details
                  would be published to both without affecting each other as long
                  as related fields at MR level specified.
                type: string
            required:
            - compositeTypeRef
            - revision
            type: object
          status:
            description: CompositionRevisionStatus shows the observed state of the
              composition revision.
            properties:
              conditions:
                description: Conditions of the resource.
                items:
                  description: A Condition that may apply to a resource.
                  properties:
                    lastTransitionTime:
                      description: LastTransitionTime is the last time this condition
                        transitioned from one status to another.
                      format: date-time
                      type: string
                    message:
                      description: A Message containing details about this condition's
                        last transition from one status to another, if any.
                      type: string
                    reason:
                      description: A Reason for this condition's last transition from
                        one status to another.
                      type: string
                    status:
                      description: Status of this condition; is it currently True,
                        False, or Unknown?
                      type: string
                    type:
                      description: Type of this condition. At most one of each condition
                        type may apply to a resource at any point in time.
                      type: string
                  required:
                  - lastTransitionTime
                  - reason
                  - status
                  - type
                  type: object
                type: array
            type: object
        type: object
    served: true
    storage: false
    subresources:
      status: {}
status:
  acceptedNames:
    categories:
    - crossplane
    kind: CompositionRevision
    listKind: CompositionRevisionList
    plural: compositionrevisions
    singular: compositionrevision
  conditions:
  - lastTransitionTime: "2023-07-28T08:10:09Z"
    message: no conflicts found
    reason: NoConflicts
    status: "True"
    type: NamesAccepted
  - lastTransitionTime: "2023-07-28T08:10:09Z"
    message: the initial names have been accepted
    reason: InitialNamesAccepted
    status: "True"
    type: Established
  storedVersions:
  - v1alpha1
  - v1beta1
  - v1
